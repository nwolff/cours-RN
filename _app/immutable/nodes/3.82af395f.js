import{_ as D}from"../chunks/preload-helper.41c905a7.js";import{S as O,i as N,s as z,e as C,b as c,d as p,f as G,g as m,h as u,T as I,o as R,v as V,w as H,y as d,a as P,z as g,c as S,A as b,B as v,R as A,q as x,r as h,k as w,l as E,m as T,n as Q,O as U}from"../chunks/index.8e5b82e3.js";import{m as Z,a as F,L as J,B as K}from"../chunks/stores.61b82bfc.js";import{G as q}from"../chunks/combinator.f5aa8607.js";import{T as W}from"../chunks/Title.41094e6a.js";import{T as X}from"../chunks/Text.d0287c0e.js";const Y=!1,de=Object.freeze(Object.defineProperty({__proto__:null,ssr:Y},Symbol.toStringTag,{value:"Module"}));function ee(i){let t,s,n,r;return t=new W({props:{order:2,$$slots:{default:[se]},$$scope:{ctx:i}}}),n=new q({props:{cols:4,$$slots:{default:[le]},$$scope:{ctx:i}}}),{c(){d(t.$$.fragment),s=P(),d(n.$$.fragment)},l(e){g(t.$$.fragment,e),s=S(e),g(n.$$.fragment,e)},m(e,o){b(t,e,o),c(e,s,o),b(n,e,o),r=!0},p(e,o){const l={};o&512&&(l.$$scope={dirty:o,ctx:e}),t.$set(l);const a={};o&514&&(a.$$scope={dirty:o,ctx:e}),n.$set(a)},i(e){r||(m(t.$$.fragment,e),m(n.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),p(n.$$.fragment,e),r=!1},d(e){v(t,e),e&&u(s),v(n,e)}}}function te(i){let t,s;return t=new J({props:{size:"xl"}}),{c(){d(t.$$.fragment)},l(n){g(t.$$.fragment,n)},m(n,r){b(t,n,r),s=!0},p:A,i(n){s||(m(t.$$.fragment,n),s=!0)},o(n){p(t.$$.fragment,n),s=!1},d(n){v(t,n)}}}function se(i){let t;return{c(){t=x("Evaluer les performances du modèle")},l(s){t=h(s,"Evaluer les performances du modèle")},m(s,n){c(s,t,n)},d(s){s&&u(t)}}}function ne(i){let t,s,n,r;return{c(){t=x("A chaque appui sur le bouton, on donne au réseau 1000 nouvelles images de "),s=w("b"),n=x("test"),r=x(` qu'il
					n'a jamais vu.`)},l(e){t=h(e,"A chaque appui sur le bouton, on donne au réseau 1000 nouvelles images de "),s=E(e,"B",{});var o=T(s);n=h(o,"test"),o.forEach(u),r=h(e,` qu'il
					n'a jamais vu.`)},m(e,o){c(e,t,o),c(e,s,o),U(s,n),c(e,r,o)},p:A,d(e){e&&u(t),e&&u(s),e&&u(r)}}}function re(i){let t;return{c(){t=x("Evaluer la précision")},l(s){t=h(s,"Evaluer la précision")},m(s,n){c(s,t,n)},d(s){s&&u(t)}}}function oe(i){let t,s,n,r,e,o;return s=new X({props:{$$slots:{default:[ne]},$$scope:{ctx:i}}}),e=new K({props:{id:"show-accuracy",$$slots:{default:[re]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){t=w("p"),d(s.$$.fragment),n=P(),r=w("p"),d(e.$$.fragment)},l(l){t=E(l,"P",{});var a=T(t);g(s.$$.fragment,a),a.forEach(u),n=S(l),r=E(l,"P",{});var f=T(r);g(e.$$.fragment,f),f.forEach(u)},m(l,a){c(l,t,a),b(s,t,null),c(l,n,a),c(l,r,a),b(e,r,null),o=!0},p(l,a){const f={};a&512&&(f.$$scope={dirty:a,ctx:l}),s.$set(f);const _={};a&512&&(_.$$scope={dirty:a,ctx:l}),e.$set(_)},i(l){o||(m(s.$$.fragment,l),m(e.$$.fragment,l),o=!0)},o(l){p(s.$$.fragment,l),p(e.$$.fragment,l),o=!1},d(l){l&&u(t),v(s),l&&u(n),l&&u(r),v(e)}}}function ae(i){let t,s,n;return{c(){t=w("p"),s=P(),n=w("div"),this.h()},l(r){t=E(r,"P",{}),T(t).forEach(u),s=S(r),n=E(r,"DIV",{id:!0}),T(n).forEach(u),this.h()},h(){Q(n,"id","confusion-matrix-container")},m(r,e){c(r,t,e),c(r,s,e),c(r,n,e),i[3](n)},p:A,d(r){r&&u(t),r&&u(s),r&&u(n),i[3](null)}}}function le(i){let t,s,n,r;return t=new q.Col({props:{span:1,$$slots:{default:[oe]},$$scope:{ctx:i}}}),n=new q.Col({props:{span:3,$$slots:{default:[ae]},$$scope:{ctx:i}}}),{c(){d(t.$$.fragment),s=P(),d(n.$$.fragment)},l(e){g(t.$$.fragment,e),s=S(e),g(n.$$.fragment,e)},m(e,o){b(t,e,o),c(e,s,o),b(n,e,o),r=!0},p(e,o){const l={};o&512&&(l.$$scope={dirty:o,ctx:e}),t.$set(l);const a={};o&514&&(a.$$scope={dirty:o,ctx:e}),n.$set(a)},i(e){r||(m(t.$$.fragment,e),m(n.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),p(n.$$.fragment,e),r=!1},d(e){v(t,e),e&&u(s),v(n,e)}}}function ie(i){let t,s,n,r;const e=[te,ee],o=[];function l(a,f){return a[0]?0:1}return t=l(i),s=o[t]=e[t](i),{c(){s.c(),n=C()},l(a){s.l(a),n=C()},m(a,f){o[t].m(a,f),c(a,n,f),r=!0},p(a,[f]){let _=t;t=l(a),t===_?o[t].p(a,f):(V(),p(o[_],1,1,()=>{o[_]=null}),G(),s=o[t],s?s.p(a,f):(s=o[t]=e[t](a),s.c()),m(s,1),s.m(n.parentNode,n))},i(a){r||(m(s),r=!0)},o(a){p(s),r=!1},d(a){o[t].d(a),a&&u(n)}}}function ue(i,t,s){let n;I(i,F,$=>s(6,n=$));let r,e=!0,o,l;R(async()=>{o=await D(()=>import("../chunks/index.06832d60.js").then($=>$.i),["../chunks/index.06832d60.js","../chunks/stores.61b82bfc.js","../chunks/index.8e5b82e3.js","../chunks/Text.d0287c0e.js","../chunks/index.ae37e64c.js","../chunks/paths.a9027a8f.js","../assets/stores.bd53f61f.css","../chunks/vega-themes.module.10164541.js"],import.meta.url),Z.load().then($=>{s(0,e=!1),r=$})});const a=["Zero","Un","Deux","Trois","Quatre","Cinq","Six","Sept","Huit","Neuf"];function f($,k=1e3){const M=r.nextTestBatch(k),B=M.xs.reshape([k,28*28]),j=M.labels.argMax([-1]),y=$.predict(B).argMax([-1]);return B.dispose(),[y,j]}async function _(){const[$,k]=f(n),M=await o.metrics.confusionMatrix(k,$);o.render.confusionMatrix(l,{values:M,tickLabels:a}),k.dispose()}function L($){H[$?"unshift":"push"](()=>{l=$,s(1,l)})}return[e,l,_,L]}class ge extends O{constructor(t){super(),N(this,t,ue,ie,z,{})}}export{ge as component,de as universal};

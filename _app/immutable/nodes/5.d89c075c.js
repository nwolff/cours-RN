import{_ as N}from"../chunks/preload-helper.41c905a7.js";import{S as h,i as G,s as H,e as X,b as m,d as g,f as J,g as k,h as i,T as K,o as Q,v as U,w as W,y,a as L,k as O,z as P,c as M,l as R,m as j,A as T,B,R as Z,q,r as A}from"../chunks/index.7941c0eb.js";import{m as ee,a as Y,e as te,B as I,L as ne,b as x}from"../chunks/stores.b28fd792.js";import{T as se}from"../chunks/Title.93cf5f5b.js";import{S as F}from"../chunks/Space.632a1729.js";const re=!1,ge=Object.freeze(Object.defineProperty({__proto__:null,ssr:re},Symbol.toStringTag,{value:"Module"}));function ae(o){let t,n,s,l,_,c,u,a,$,b,d,C,f,D,v,p,z;return t=new se({props:{order:2,$$slots:{default:[le]},$$scope:{ctx:o}}}),l=new I({props:{$$slots:{default:[fe]},$$scope:{ctx:o}}}),l.$on("click",o[3]),u=new I({props:{$$slots:{default:[ie]},$$scope:{ctx:o}}}),u.$on("click",o[2]),$=new F({}),f=new F({}),p=new I({props:{color:"Red",$$slots:{default:[ce]},$$scope:{ctx:o}}}),p.$on("click",o[4]),{c(){y(t.$$.fragment),n=L(),s=O("p"),y(l.$$.fragment),_=L(),c=O("p"),y(u.$$.fragment),a=L(),y($.$$.fragment),b=L(),d=O("div"),C=L(),y(f.$$.fragment),D=L(),v=O("p"),y(p.$$.fragment)},l(e){P(t.$$.fragment,e),n=M(e),s=R(e,"P",{});var r=j(s);P(l.$$.fragment,r),r.forEach(i),_=M(e),c=R(e,"P",{});var w=j(c);P(u.$$.fragment,w),w.forEach(i),a=M(e),P($.$$.fragment,e),b=M(e),d=R(e,"DIV",{}),j(d).forEach(i),C=M(e),P(f.$$.fragment,e),D=M(e),v=R(e,"P",{});var S=j(v);P(p.$$.fragment,S),S.forEach(i)},m(e,r){T(t,e,r),m(e,n,r),m(e,s,r),T(l,s,null),m(e,_,r),m(e,c,r),T(u,c,null),m(e,a,r),T($,e,r),m(e,b,r),m(e,d,r),o[5](d),m(e,C,r),T(f,e,r),m(e,D,r),m(e,v,r),T(p,v,null),z=!0},p(e,r){const w={};r&1024&&(w.$$scope={dirty:r,ctx:e}),t.$set(w);const S={};r&1024&&(S.$$scope={dirty:r,ctx:e}),l.$set(S);const E={};r&1024&&(E.$$scope={dirty:r,ctx:e}),u.$set(E);const V={};r&1024&&(V.$$scope={dirty:r,ctx:e}),p.$set(V)},i(e){z||(k(t.$$.fragment,e),k(l.$$.fragment,e),k(u.$$.fragment,e),k($.$$.fragment,e),k(f.$$.fragment,e),k(p.$$.fragment,e),z=!0)},o(e){g(t.$$.fragment,e),g(l.$$.fragment,e),g(u.$$.fragment,e),g($.$$.fragment,e),g(f.$$.fragment,e),g(p.$$.fragment,e),z=!1},d(e){B(t,e),e&&i(n),e&&i(s),B(l),e&&i(_),e&&i(c),B(u),e&&i(a),B($,e),e&&i(b),e&&i(d),o[5](null),e&&i(C),B(f,e),e&&i(D),e&&i(v),B(p)}}}function oe(o){let t,n;return t=new ne({props:{size:"xl"}}),{c(){y(t.$$.fragment)},l(s){P(t.$$.fragment,s)},m(s,l){T(t,s,l),n=!0},p:Z,i(s){n||(k(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){B(t,s)}}}function le(o){let t;return{c(){t=q("Entraîner notre modèle")},l(n){t=A(n,"Entraîner notre modèle")},m(n,s){m(n,t,s)},d(n){n&&i(t)}}}function fe(o){let t;return{c(){t=q("Entraîner avec 200 images")},l(n){t=A(n,"Entraîner avec 200 images")},m(n,s){m(n,t,s)},d(n){n&&i(t)}}}function ie(o){let t;return{c(){t=q("Entraîner avec 5000 images, 8 fois")},l(n){t=A(n,"Entraîner avec 5000 images, 8 fois")},m(n,s){m(n,t,s)},d(n){n&&i(t)}}}function ce(o){let t;return{c(){t=q("Effacer les données du modèle")},l(n){t=A(n,"Effacer les données du modèle")},m(n,s){m(n,t,s)},d(n){n&&i(t)}}}function ue(o){let t,n,s,l;const _=[oe,ae],c=[];function u(a,$){return a[0]?0:1}return t=u(o),n=c[t]=_[t](o),{c(){n.c(),s=X()},l(a){n.l(a),s=X()},m(a,$){c[t].m(a,$),m(a,s,$),l=!0},p(a,[$]){let b=t;t=u(a),t===b?c[t].p(a,$):(U(),g(c[b],1,1,()=>{c[b]=null}),J(),n=c[t],n?n.p(a,$):(n=c[t]=_[t](a),n.c()),k(n,1),n.m(s.parentNode,s))},i(a){l||(k(n),l=!0)},o(a){g(n),l=!1},d(a){c[t].d(a),a&&i(s)}}}function $e(o,t,n){let s;K(o,Y,f=>n(8,s=f));let l,_=!0,c,u;Q(async()=>{c=await N(()=>import("../chunks/index.0d030571.js").then(f=>f.i),["../chunks/index.0d030571.js","../chunks/stores.b28fd792.js","../chunks/index.7941c0eb.js","../chunks/Text.f63baea0.js","../chunks/index.0c48d616.js","../chunks/paths.79743e9b.js","../assets/stores.bd53f61f.css","../chunks/vega-themes.module.28ea390e.js"],import.meta.url),ee.load().then(f=>{n(0,_=!1),l=f})});async function a({trainDataSize:f=5e3,batchSize:D=100,epochs:v=1}={}){const p=f/5,[z,e]=x(()=>{const E=l.nextTrainBatch(f);return[E.xs.reshape([f,28*28]),E.labels]}),[r,w]=x(()=>{const E=l.nextTestBatch(p);return[E.xs.reshape([p,28*28]),E.labels]}),S=c.show.fitCallbacks(u,["acc","val_acc"]);return s.fit(z,e,{batchSize:D,validationData:[r,w],epochs:v,shuffle:!0,callbacks:S})}async function $(){d(),a({trainDataSize:5e3,epochs:8})}async function b(){a({trainDataSize:200})}function d(){Y.update(()=>te())}function C(f){W[f?"unshift":"push"](()=>{u=f,n(1,u)})}return[_,u,$,b,d,C]}class ke extends h{constructor(t){super(),G(this,t,$e,ue,H,{})}}export{ke as component,ge as universal};

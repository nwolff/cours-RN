import{_ as D}from"../chunks/preload-helper.41c905a7.js";import{S as O,i as N,s as z,y as b,a as S,e as L,z as v,c as q,A as k,b as $,d,f as G,g,B as x,h as c,T as I,o as R,q as h,r as w,v as V,w as H,R as B,k as E,l as T,m as M,n as Q,O as U}from"../chunks/index.70d9aeb1.js";import{T as Z,m as F,a as J,G as A,L as K,B as W}from"../chunks/stores.19b5f897.js";import{T as X}from"../chunks/Text.cfb29bed.js";const Y=!1,me=Object.freeze(Object.defineProperty({__proto__:null,ssr:Y},Symbol.toStringTag,{value:"Module"}));function ee(u){let t;return{c(){t=h("Evaluer les performances du réseau")},l(n){t=w(n,"Evaluer les performances du réseau")},m(n,e){$(n,t,e)},d(n){n&&c(t)}}}function te(u){let t,n;return t=new A({props:{cols:4,$$slots:{default:[le]},$$scope:{ctx:u}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),n=!0},p(e,r){const s={};r&514&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){x(t,e)}}}function se(u){let t,n;return t=new K({props:{size:"xl"}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),n=!0},p:B,i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){x(t,e)}}}function ne(u){let t,n,e,r;return{c(){t=h("A chaque appui sur le bouton, on donne au réseau 1000 nouvelles images de "),n=E("b"),e=h("test"),r=h(` qu'il
					n'a jamais vues.`)},l(s){t=w(s,"A chaque appui sur le bouton, on donne au réseau 1000 nouvelles images de "),n=T(s,"B",{});var l=M(n);e=w(l,"test"),l.forEach(c),r=w(s,` qu'il
					n'a jamais vues.`)},m(s,l){$(s,t,l),$(s,n,l),U(n,e),$(s,r,l)},p:B,d(s){s&&c(t),s&&c(n),s&&c(r)}}}function re(u){let t;return{c(){t=h("Evaluer la précision")},l(n){t=w(n,"Evaluer la précision")},m(n,e){$(n,t,e)},d(n){n&&c(t)}}}function oe(u){let t,n,e,r,s,l;return n=new X({props:{$$slots:{default:[ne]},$$scope:{ctx:u}}}),s=new W({props:{id:"show-accuracy",$$slots:{default:[re]},$$scope:{ctx:u}}}),s.$on("click",u[2]),{c(){t=E("p"),b(n.$$.fragment),e=S(),r=E("p"),b(s.$$.fragment)},l(o){t=T(o,"P",{});var i=M(t);v(n.$$.fragment,i),i.forEach(c),e=q(o),r=T(o,"P",{});var m=M(r);v(s.$$.fragment,m),m.forEach(c)},m(o,i){$(o,t,i),k(n,t,null),$(o,e,i),$(o,r,i),k(s,r,null),l=!0},p(o,i){const m={};i&512&&(m.$$scope={dirty:i,ctx:o}),n.$set(m);const a={};i&512&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){l||(g(n.$$.fragment,o),g(s.$$.fragment,o),l=!0)},o(o){d(n.$$.fragment,o),d(s.$$.fragment,o),l=!1},d(o){o&&c(t),x(n),o&&c(e),o&&c(r),x(s)}}}function ae(u){let t,n,e;return{c(){t=E("p"),n=S(),e=E("div"),this.h()},l(r){t=T(r,"P",{}),M(t).forEach(c),n=q(r),e=T(r,"DIV",{id:!0}),M(e).forEach(c),this.h()},h(){Q(e,"id","confusion-matrix-container")},m(r,s){$(r,t,s),$(r,n,s),$(r,e,s),u[3](e)},p:B,d(r){r&&c(t),r&&c(n),r&&c(e),u[3](null)}}}function le(u){let t,n,e,r;return t=new A.Col({props:{span:1,$$slots:{default:[oe]},$$scope:{ctx:u}}}),e=new A.Col({props:{span:3,$$slots:{default:[ae]},$$scope:{ctx:u}}}),{c(){b(t.$$.fragment),n=S(),b(e.$$.fragment)},l(s){v(t.$$.fragment,s),n=q(s),v(e.$$.fragment,s)},m(s,l){k(t,s,l),$(s,n,l),k(e,s,l),r=!0},p(s,l){const o={};l&512&&(o.$$scope={dirty:l,ctx:s}),t.$set(o);const i={};l&514&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){r||(g(t.$$.fragment,s),g(e.$$.fragment,s),r=!0)},o(s){d(t.$$.fragment,s),d(e.$$.fragment,s),r=!1},d(s){x(t,s),s&&c(n),x(e,s)}}}function ie(u){let t,n,e,r,s,l;t=new Z({props:{order:1,$$slots:{default:[ee]},$$scope:{ctx:u}}});const o=[se,te],i=[];function m(a,p){return a[0]?0:1}return e=m(u),r=i[e]=o[e](u),{c(){b(t.$$.fragment),n=S(),r.c(),s=L()},l(a){v(t.$$.fragment,a),n=q(a),r.l(a),s=L()},m(a,p){k(t,a,p),$(a,n,p),i[e].m(a,p),$(a,s,p),l=!0},p(a,[p]){const f={};p&512&&(f.$$scope={dirty:p,ctx:a}),t.$set(f);let _=e;e=m(a),e===_?i[e].p(a,p):(V(),d(i[_],1,1,()=>{i[_]=null}),G(),r=i[e],r?r.p(a,p):(r=i[e]=o[e](a),r.c()),g(r,1),r.m(s.parentNode,s))},i(a){l||(g(t.$$.fragment,a),g(r),l=!0)},o(a){d(t.$$.fragment,a),d(r),l=!1},d(a){x(t,a),a&&c(n),i[e].d(a),a&&c(s)}}}function ue(u,t,n){let e;I(u,J,f=>n(6,e=f));let r,s=!0,l,o;R(async()=>{l=await D(()=>import("../chunks/index.ba82c3ca.js").then(f=>f.i),["../chunks/index.ba82c3ca.js","../chunks/stores.19b5f897.js","../chunks/index.70d9aeb1.js","../chunks/Text.cfb29bed.js","../chunks/index.e26498a0.js","../chunks/paths.2f04ac2c.js","../assets/stores.bd53f61f.css","../chunks/vega-themes.module.aba9e928.js"],import.meta.url),F.load().then(f=>{n(0,s=!1),r=f})});const i=["Zero","Un","Deux","Trois","Quatre","Cinq","Six","Sept","Huit","Neuf"];function m(f,_=1e3){const P=r.nextTestBatch(_),C=P.xs.reshape([_,28*28]),j=P.labels.argMax([-1]),y=f.predict(C).argMax([-1]);return C.dispose(),[y,j]}async function a(){const[f,_]=m(e),P=await l.metrics.confusionMatrix(_,f);l.render.confusionMatrix(o,{values:P,tickLabels:i}),_.dispose()}function p(f){H[f?"unshift":"push"](()=>{o=f,n(1,o)})}return[s,o,a,p]}class _e extends O{constructor(t){super(),N(this,t,ue,ie,z,{})}}export{_e as component,me as universal};

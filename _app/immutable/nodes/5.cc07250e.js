import{_ as N}from"../chunks/preload-helper.41c905a7.js";import{S as j,i as q,s as R,e as y,b as p,d as $,f as X,g as d,h as m,T as Y,o as Z,v as V,y as S,a as T,k as P,z as E,c as z,l as B,m as C,A as k,B as h,R as F,q as D,r as w}from"../chunks/index.8e5b82e3.js";import{m as G,a as O,e as J,B as K,L as Q,b as A}from"../chunks/stores.e710c08d.js";import{T as U}from"../chunks/Title.41094e6a.js";import{T as W}from"../chunks/Text.d0287c0e.js";import{S as ee}from"../chunks/Space.2e4200ee.js";const te=!1,$e=Object.freeze(Object.defineProperty({__proto__:null,ssr:te},Symbol.toStringTag,{value:"Module"}));function ne(i){let e,t,r,o,_,l,f,a,s,u;return e=new U({props:{order:2,$$slots:{default:[se]},$$scope:{ctx:i}}}),o=new W({props:{$$slots:{default:[ae]},$$scope:{ctx:i}}}),f=new K({props:{$$slots:{default:[oe]},$$scope:{ctx:i}}}),f.$on("click",i[1]),s=new ee({}),{c(){S(e.$$.fragment),t=T(),r=P("p"),S(o.$$.fragment),_=T(),l=P("p"),S(f.$$.fragment),a=T(),S(s.$$.fragment)},l(n){E(e.$$.fragment,n),t=z(n),r=B(n,"P",{});var c=C(r);E(o.$$.fragment,c),c.forEach(m),_=z(n),l=B(n,"P",{});var b=C(l);E(f.$$.fragment,b),b.forEach(m),a=z(n),E(s.$$.fragment,n)},m(n,c){k(e,n,c),p(n,t,c),p(n,r,c),k(o,r,null),p(n,_,c),p(n,l,c),k(f,l,null),p(n,a,c),k(s,n,c),u=!0},p(n,c){const b={};c&64&&(b.$$scope={dirty:c,ctx:n}),e.$set(b);const v={};c&64&&(v.$$scope={dirty:c,ctx:n}),o.$set(v);const x={};c&64&&(x.$$scope={dirty:c,ctx:n}),f.$set(x)},i(n){u||(d(e.$$.fragment,n),d(o.$$.fragment,n),d(f.$$.fragment,n),d(s.$$.fragment,n),u=!0)},o(n){$(e.$$.fragment,n),$(o.$$.fragment,n),$(f.$$.fragment,n),$(s.$$.fragment,n),u=!1},d(n){h(e,n),n&&m(t),n&&m(r),h(o),n&&m(_),n&&m(l),h(f),n&&m(a),h(s,n)}}}function re(i){let e,t;return e=new Q({props:{size:"xl"}}),{c(){S(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,o){k(e,r,o),t=!0},p:F,i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){h(e,r)}}}function se(i){let e;return{c(){e=D("Entraîner notre modèle")},l(t){e=w(t,"Entraîner notre modèle")},m(t,r){p(t,e,r)},d(t){t&&m(e)}}}function ae(i){let e;return{c(){e=D("Notre but est d'entraîner un modèle à reconnaitre des chiffres.")},l(t){e=w(t,"Notre but est d'entraîner un modèle à reconnaitre des chiffres.")},m(t,r){p(t,e,r)},d(t){t&&m(e)}}}function oe(i){let e;return{c(){e=D("Entraîner")},l(t){e=w(t,"Entraîner")},m(t,r){p(t,e,r)},d(t){t&&m(e)}}}function le(i){let e,t,r,o;const _=[re,ne],l=[];function f(a,s){return a[0]?0:1}return e=f(i),t=l[e]=_[e](i),{c(){t.c(),r=y()},l(a){t.l(a),r=y()},m(a,s){l[e].m(a,s),p(a,r,s),o=!0},p(a,[s]){let u=e;e=f(a),e===u?l[e].p(a,s):(V(),$(l[u],1,1,()=>{l[u]=null}),X(),t=l[e],t?t.p(a,s):(t=l[e]=_[e](a),t.c()),d(t,1),t.m(r.parentNode,r))},i(a){o||(d(t),o=!0)},o(a){$(t),o=!1},d(a){l[e].d(a),a&&m(r)}}}function ce(i,e,t){let r;Y(i,O,s=>t(4,r=s));let o,_=!0,l;Z(async()=>{l=await N(()=>import("../chunks/index.05073713.js").then(s=>s.i),["../chunks/index.05073713.js","../chunks/stores.e710c08d.js","../chunks/index.8e5b82e3.js","../chunks/Text.d0287c0e.js","../chunks/index.ae37e64c.js","../chunks/paths.13e260ce.js","../assets/stores.bd53f61f.css","../chunks/vega-themes.module.63ff79a6.js"],import.meta.url),G.load().then(s=>{t(0,_=!1),o=s})});async function f(s,u,n){const[H,L]=A(()=>{const g=u.nextTrainBatch(5e3);return[g.xs.reshape([5e3,784]),g.labels]}),[I,M]=A(()=>{const g=u.nextTestBatch(1e3);return[g.xs.reshape([1e3,28*28]),g.labels]});return s.fit(H,L,{batchSize:100,validationData:[I,M],epochs:8,shuffle:!0,callbacks:n})}async function a(){O.update(()=>J());const s=["acc","val_acc"],u={name:"Evolution de la précision",tab:"Entraînement",styles:{height:"800px"}},n=l.show.fitCallbacks(u,s);return f(r,o,n)}return[_,a]}class de extends j{constructor(e){super(),q(this,e,ce,le,R,{})}}export{de as component,$e as universal};

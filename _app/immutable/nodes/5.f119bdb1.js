import{_ as F}from"../chunks/preload-helper.41c905a7.js";import{S as N,i as G,s as H,e as X,b as m,d as E,f as J,g as v,h as f,T as K,o as Q,v as U,w as W,y as T,a as D,k as M,z as P,c as L,l as A,m as O,A as y,B,R as Z,q as R,r as j}from"../chunks/index.7941c0eb.js";import{m as ee,a as Y,b as h,e as te,B as q,L as ne}from"../chunks/stores.93674f69.js";import{T as se}from"../chunks/Title.93cf5f5b.js";import{S as x}from"../chunks/Space.632a1729.js";const re=!1,ke=Object.freeze(Object.defineProperty({__proto__:null,ssr:re},Symbol.toStringTag,{value:"Module"}));function oe(a){let t,n,s,l,d,c,i,o,u,p,w,$,k,C,g,_,z;return t=new se({props:{order:2,$$slots:{default:[le]},$$scope:{ctx:a}}}),l=new q({props:{$$slots:{default:[fe]},$$scope:{ctx:a}}}),l.$on("click",a[2]),i=new q({props:{$$slots:{default:[ce]},$$scope:{ctx:a}}}),i.$on("click",a[3]),u=new x({}),k=new x({}),_=new q({props:{color:"Red",$$slots:{default:[ie]},$$scope:{ctx:a}}}),_.$on("click",a[4]),{c(){T(t.$$.fragment),n=D(),s=M("p"),T(l.$$.fragment),d=D(),c=M("p"),T(i.$$.fragment),o=D(),T(u.$$.fragment),p=D(),w=M("div"),$=D(),T(k.$$.fragment),C=D(),g=M("p"),T(_.$$.fragment)},l(e){P(t.$$.fragment,e),n=L(e),s=A(e,"P",{});var r=O(s);P(l.$$.fragment,r),r.forEach(f),d=L(e),c=A(e,"P",{});var S=O(c);P(i.$$.fragment,S),S.forEach(f),o=L(e),P(u.$$.fragment,e),p=L(e),w=A(e,"DIV",{}),O(w).forEach(f),$=L(e),P(k.$$.fragment,e),C=L(e),g=A(e,"P",{});var b=O(g);P(_.$$.fragment,b),b.forEach(f)},m(e,r){y(t,e,r),m(e,n,r),m(e,s,r),y(l,s,null),m(e,d,r),m(e,c,r),y(i,c,null),m(e,o,r),y(u,e,r),m(e,p,r),m(e,w,r),a[5](w),m(e,$,r),y(k,e,r),m(e,C,r),m(e,g,r),y(_,g,null),z=!0},p(e,r){const S={};r&512&&(S.$$scope={dirty:r,ctx:e}),t.$set(S);const b={};r&512&&(b.$$scope={dirty:r,ctx:e}),l.$set(b);const I={};r&512&&(I.$$scope={dirty:r,ctx:e}),i.$set(I);const V={};r&512&&(V.$$scope={dirty:r,ctx:e}),_.$set(V)},i(e){z||(v(t.$$.fragment,e),v(l.$$.fragment,e),v(i.$$.fragment,e),v(u.$$.fragment,e),v(k.$$.fragment,e),v(_.$$.fragment,e),z=!0)},o(e){E(t.$$.fragment,e),E(l.$$.fragment,e),E(i.$$.fragment,e),E(u.$$.fragment,e),E(k.$$.fragment,e),E(_.$$.fragment,e),z=!1},d(e){B(t,e),e&&f(n),e&&f(s),B(l),e&&f(d),e&&f(c),B(i),e&&f(o),B(u,e),e&&f(p),e&&f(w),a[5](null),e&&f($),B(k,e),e&&f(C),e&&f(g),B(_)}}}function ae(a){let t,n;return t=new ne({props:{size:"xl"}}),{c(){T(t.$$.fragment)},l(s){P(t.$$.fragment,s)},m(s,l){y(t,s,l),n=!0},p:Z,i(s){n||(v(t.$$.fragment,s),n=!0)},o(s){E(t.$$.fragment,s),n=!1},d(s){B(t,s)}}}function le(a){let t;return{c(){t=R("Entraîner notre modèle")},l(n){t=j(n,"Entraîner notre modèle")},m(n,s){m(n,t,s)},d(n){n&&f(t)}}}function fe(a){let t;return{c(){t=R("Effacer et Entraîner complètement")},l(n){t=j(n,"Effacer et Entraîner complètement")},m(n,s){m(n,t,s)},d(n){n&&f(t)}}}function ce(a){let t;return{c(){t=R("Entraîner")},l(n){t=j(n,"Entraîner")},m(n,s){m(n,t,s)},d(n){n&&f(t)}}}function ie(a){let t;return{c(){t=R("Effacer les données du modèle")},l(n){t=j(n,"Effacer les données du modèle")},m(n,s){m(n,t,s)},d(n){n&&f(t)}}}function ue(a){let t,n,s,l;const d=[ae,oe],c=[];function i(o,u){return o[0]?0:1}return t=i(a),n=c[t]=d[t](a),{c(){n.c(),s=X()},l(o){n.l(o),s=X()},m(o,u){c[t].m(o,u),m(o,s,u),l=!0},p(o,[u]){let p=t;t=i(o),t===p?c[t].p(o,u):(U(),E(c[p],1,1,()=>{c[p]=null}),J(),n=c[t],n?n.p(o,u):(n=c[t]=d[t](o),n.c()),v(n,1),n.m(s.parentNode,s))},i(o){l||(v(n),l=!0)},o(o){E(n),l=!1},d(o){c[t].d(o),o&&f(s)}}}function $e(a,t,n){let s;K(a,Y,$=>n(8,s=$));let l,d=!0,c,i;Q(async()=>{c=await F(()=>import("../chunks/index.7a670c89.js").then($=>$.i),["../chunks/index.7a670c89.js","../chunks/stores.93674f69.js","../chunks/index.7941c0eb.js","../chunks/Text.f63baea0.js","../chunks/index.0c48d616.js","../chunks/paths.fd27b89b.js","../assets/stores.bd53f61f.css","../chunks/vega-themes.module.102f7055.js"],import.meta.url),ee.load().then($=>{n(0,d=!1),l=$})});async function o(){p(),u({trainDataSize:5e3,batchSize:100,epochs:8})}async function u({trainDataSize:$=5e3,batchSize:k=100,epochs:C=1}={}){const g=$/5,[_,z]=h(()=>{const b=l.nextTrainBatch($);return[b.xs.reshape([$,28*28]),b.labels]}),[e,r]=h(()=>{const b=l.nextTestBatch(g);return[b.xs.reshape([g,28*28]),b.labels]}),S=c.show.fitCallbacks(i,["acc","val_acc"]);return s.fit(_,z,{batchSize:k,validationData:[e,r],epochs:C,shuffle:!0,callbacks:S})}function p(){Y.update(()=>te())}function w($){W[$?"unshift":"push"](()=>{i=$,n(1,i)})}return[d,i,o,u,p,w]}class ge extends N{constructor(t){super(),G(this,t,$e,ue,H,{})}}export{ge as component,ke as universal};

import{_ as D}from"../chunks/preload-helper.41c905a7.js";import{S as O,i as N,s as z,e as C,b as c,d as p,f as G,g as m,h as u,T as I,o as R,v as V,w as H,y as d,a as P,z as g,c as S,A as b,B as v,R as A,q as x,r as h,k as w,l as E,m as T,n as Q,O as U}from"../chunks/index.8e5b82e3.js";import{m as Z,a as F,L as J,B as K}from"../chunks/stores.95917448.js";import{G as q}from"../chunks/combinator.f5aa8607.js";import{T as W}from"../chunks/Title.41094e6a.js";import{T as X}from"../chunks/Text.d0287c0e.js";const Y=!1,de=Object.freeze(Object.defineProperty({__proto__:null,ssr:Y},Symbol.toStringTag,{value:"Module"}));function ee(i){let t,s,n,o;return t=new W({props:{order:2,$$slots:{default:[se]},$$scope:{ctx:i}}}),n=new q({props:{cols:4,$$slots:{default:[le]},$$scope:{ctx:i}}}),{c(){d(t.$$.fragment),s=P(),d(n.$$.fragment)},l(e){g(t.$$.fragment,e),s=S(e),g(n.$$.fragment,e)},m(e,r){b(t,e,r),c(e,s,r),b(n,e,r),o=!0},p(e,r){const l={};r&512&&(l.$$scope={dirty:r,ctx:e}),t.$set(l);const a={};r&514&&(a.$$scope={dirty:r,ctx:e}),n.$set(a)},i(e){o||(m(t.$$.fragment,e),m(n.$$.fragment,e),o=!0)},o(e){p(t.$$.fragment,e),p(n.$$.fragment,e),o=!1},d(e){v(t,e),e&&u(s),v(n,e)}}}function te(i){let t,s;return t=new J({props:{size:"xl"}}),{c(){d(t.$$.fragment)},l(n){g(t.$$.fragment,n)},m(n,o){b(t,n,o),s=!0},p:A,i(n){s||(m(t.$$.fragment,n),s=!0)},o(n){p(t.$$.fragment,n),s=!1},d(n){v(t,n)}}}function se(i){let t;return{c(){t=x("Evaluation des performances du modèle")},l(s){t=h(s,"Evaluation des performances du modèle")},m(s,n){c(s,t,n)},d(s){s&&u(t)}}}function ne(i){let t,s,n,o;return{c(){t=x("A chaque appui sur le bouton, on donne au réseau 1000 nouvelles images de "),s=w("b"),n=x("test"),o=x(` qu'il
					n'a jamais vu.`)},l(e){t=h(e,"A chaque appui sur le bouton, on donne au réseau 1000 nouvelles images de "),s=E(e,"B",{});var r=T(s);n=h(r,"test"),r.forEach(u),o=h(e,` qu'il
					n'a jamais vu.`)},m(e,r){c(e,t,r),c(e,s,r),U(s,n),c(e,o,r)},p:A,d(e){e&&u(t),e&&u(s),e&&u(o)}}}function oe(i){let t;return{c(){t=x("Evaluer la précision")},l(s){t=h(s,"Evaluer la précision")},m(s,n){c(s,t,n)},d(s){s&&u(t)}}}function re(i){let t,s,n,o,e,r;return s=new X({props:{$$slots:{default:[ne]},$$scope:{ctx:i}}}),e=new K({props:{id:"show-accuracy",$$slots:{default:[oe]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){t=w("p"),d(s.$$.fragment),n=P(),o=w("p"),d(e.$$.fragment)},l(l){t=E(l,"P",{});var a=T(t);g(s.$$.fragment,a),a.forEach(u),n=S(l),o=E(l,"P",{});var f=T(o);g(e.$$.fragment,f),f.forEach(u)},m(l,a){c(l,t,a),b(s,t,null),c(l,n,a),c(l,o,a),b(e,o,null),r=!0},p(l,a){const f={};a&512&&(f.$$scope={dirty:a,ctx:l}),s.$set(f);const _={};a&512&&(_.$$scope={dirty:a,ctx:l}),e.$set(_)},i(l){r||(m(s.$$.fragment,l),m(e.$$.fragment,l),r=!0)},o(l){p(s.$$.fragment,l),p(e.$$.fragment,l),r=!1},d(l){l&&u(t),v(s),l&&u(n),l&&u(o),v(e)}}}function ae(i){let t,s,n;return{c(){t=w("p"),s=P(),n=w("div"),this.h()},l(o){t=E(o,"P",{}),T(t).forEach(u),s=S(o),n=E(o,"DIV",{id:!0}),T(n).forEach(u),this.h()},h(){Q(n,"id","confusion-matrix-container")},m(o,e){c(o,t,e),c(o,s,e),c(o,n,e),i[3](n)},p:A,d(o){o&&u(t),o&&u(s),o&&u(n),i[3](null)}}}function le(i){let t,s,n,o;return t=new q.Col({props:{span:1,$$slots:{default:[re]},$$scope:{ctx:i}}}),n=new q.Col({props:{span:3,$$slots:{default:[ae]},$$scope:{ctx:i}}}),{c(){d(t.$$.fragment),s=P(),d(n.$$.fragment)},l(e){g(t.$$.fragment,e),s=S(e),g(n.$$.fragment,e)},m(e,r){b(t,e,r),c(e,s,r),b(n,e,r),o=!0},p(e,r){const l={};r&512&&(l.$$scope={dirty:r,ctx:e}),t.$set(l);const a={};r&514&&(a.$$scope={dirty:r,ctx:e}),n.$set(a)},i(e){o||(m(t.$$.fragment,e),m(n.$$.fragment,e),o=!0)},o(e){p(t.$$.fragment,e),p(n.$$.fragment,e),o=!1},d(e){v(t,e),e&&u(s),v(n,e)}}}function ie(i){let t,s,n,o;const e=[te,ee],r=[];function l(a,f){return a[0]?0:1}return t=l(i),s=r[t]=e[t](i),{c(){s.c(),n=C()},l(a){s.l(a),n=C()},m(a,f){r[t].m(a,f),c(a,n,f),o=!0},p(a,[f]){let _=t;t=l(a),t===_?r[t].p(a,f):(V(),p(r[_],1,1,()=>{r[_]=null}),G(),s=r[t],s?s.p(a,f):(s=r[t]=e[t](a),s.c()),m(s,1),s.m(n.parentNode,n))},i(a){o||(m(s),o=!0)},o(a){p(s),o=!1},d(a){r[t].d(a),a&&u(n)}}}function ue(i,t,s){let n;I(i,F,$=>s(6,n=$));let o,e=!0,r,l;R(async()=>{r=await D(()=>import("../chunks/index.a2779742.js").then($=>$.i),["../chunks/index.a2779742.js","../chunks/stores.95917448.js","../chunks/index.8e5b82e3.js","../chunks/Text.d0287c0e.js","../chunks/index.ae37e64c.js","../chunks/paths.36c6f990.js","../assets/stores.bd53f61f.css","../chunks/vega-themes.module.d5f59587.js"],import.meta.url),Z.load().then($=>{s(0,e=!1),o=$})});const a=["Zero","Un","Deux","Trois","Quatre","Cinq","Six","Sept","Huit","Neuf"];function f($,k=1e3){const M=o.nextTestBatch(k),B=M.xs.reshape([k,28*28]),j=M.labels.argMax([-1]),y=$.predict(B).argMax([-1]);return B.dispose(),[y,j]}async function _(){const[$,k]=f(n),M=await r.metrics.confusionMatrix(k,$);r.render.confusionMatrix(l,{values:M,tickLabels:a}),k.dispose()}function L($){H[$?"unshift":"push"](()=>{l=$,s(1,l)})}return[e,l,_,L]}class ge extends O{constructor(t){super(),N(this,t,ue,ie,z,{})}}export{ge as component,de as universal};

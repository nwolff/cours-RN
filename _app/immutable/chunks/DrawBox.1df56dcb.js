import{S as Ne,i as Re,s as Se,C as He,w as be,D as wt,y as ce,z as ue,A as fe,E as jt,F as Gt,G as It,g as ee,d as te,B as he,H as Qe,I as Mt,o as Lt,J as Ut,K as Vt,L as zt,M as Xt,k as se,l as ae,m as oe,h as k,b as $e,R as De,$ as Nt,a0 as Rt,a1 as Ze,a as St,c as xt,n as W,O as ge,q as Ht,r as Wt}from"./index.70d9aeb1.js";import{i as qt,a as Oe,b as We,v as kt,c as Bt,m as At,t as Yt,d as Kt,e as Tt,f as Jt,s as je,w as Qt,g as Zt}from"./vega-themes.module.0f37051f.js";import{c as en,B as tn}from"./Box.299e949c.js";import{B as nn}from"./stores.adf6e4c9.js";const et={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"},rn=en((e,{align:t,direction:n,grow:r,noWrap:s,position:i,spacing:a,children:l})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:n,alignItems:t||(n==="row"?"center":r?"stretch":i==="apart"?"flex-start":et[i]),flexWrap:s?"nowrap":"wrap",justifyContent:n==="row"?et[i]:void 0,gap:e.fn.size({size:a,sizes:e.space}),"& > *":{boxSizing:"border-box",maxWidth:r&&n==="row"?`calc(${100/l}% - ${e.fn.size({size:a,sizes:e.space})-e.fn.size({size:a,sizes:e.space})/l}px)`:void 0,flexGrow:r?1:0}}}));function sn(e){let t;const n=e[15].default,r=Ut(n,e,e[17],null);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&131072)&&Vt(r,n,s,s[17],t?Xt(n,s[17],i,null):zt(s[17]),null)},i(s){t||(ee(r,s),t=!0)},o(s){te(r,s),t=!1},d(s){r&&r.d(s)}}}function an(e){let t,n,r;const s=[{use:e[1]},{class:e[6](e[2],e[5].root,e[4]({css:e[3]}))},e[7]];function i(l){e[16](l)}let a={$$slots:{default:[sn]},$$scope:{ctx:e}};for(let l=0;l<s.length;l+=1)a=He(a,s[l]);return e[0]!==void 0&&(a.element=e[0]),t=new tn({props:a}),be.push(()=>wt(t,"element",i)),{c(){ce(t.$$.fragment)},l(l){ue(t.$$.fragment,l)},m(l,o){fe(t,l,o),r=!0},p(l,[o]){const m=o&254?jt(s,[o&2&&{use:l[1]},o&124&&{class:l[6](l[2],l[5].root,l[4]({css:l[3]}))},o&128&&Gt(l[7])]):{};o&131072&&(m.$$scope={dirty:o,ctx:l}),!n&&o&1&&(n=!0,m.element=l[0],It(()=>n=!1)),t.$set(m)},i(l){r||(ee(t.$$.fragment,l),r=!0)},o(l){te(t.$$.fragment,l),r=!1},d(l){he(t,l)}}}function on(e,t,n){let r,s,i;const a=["use","element","class","override","position","noWrap","grow","spacing","direction","align"];let l=Qe(t,a),{$$slots:o={},$$scope:m}=t,{use:c=[],element:d=void 0,class:E="",override:A={},position:x="left",noWrap:$=!1,grow:j=!1,spacing:D="md",direction:N="row",align:F="center"}=t,G;function g(v){d=v,n(0,d)}return e.$$set=v=>{t=He(He({},t),Mt(v)),n(7,l=Qe(t,a)),"use"in v&&n(1,c=v.use),"element"in v&&n(0,d=v.element),"class"in v&&n(2,E=v.class),"override"in v&&n(3,A=v.override),"position"in v&&n(8,x=v.position),"noWrap"in v&&n(9,$=v.noWrap),"grow"in v&&n(10,j=v.grow),"spacing"in v&&n(11,D=v.spacing),"direction"in v&&n(12,N=v.direction),"align"in v&&n(13,F=v.align),"$$scope"in v&&n(17,m=v.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&Lt(()=>{n(14,G=d.childElementCount)}),e.$$.dirty&32512&&n(6,{cx:r,classes:s,getStyles:i}=rn({align:F,children:G,direction:N,grow:j,noWrap:$,position:x,spacing:D},{name:"Group"}),r,(n(5,s),n(13,F),n(14,G),n(12,N),n(10,j),n(9,$),n(8,x),n(11,D),n(0,d)),(n(4,i),n(13,F),n(14,G),n(12,N),n(10,j),n(9,$),n(8,x),n(11,D),n(0,d)))},[d,c,E,A,i,s,r,l,x,$,j,D,N,F,G,o,g,m]}class ln extends Ne{constructor(t){super(),Re(this,t,on,an,Se,{use:1,element:0,class:2,override:3,position:8,noWrap:9,grow:10,spacing:11,direction:12,align:13})}}const tt=ln;function cn(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var un={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},fn={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},hn={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const dn=Array.prototype.slice,J=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,dn.call(t,1))},pn=(e,t,n,r,s,i,a)=>new Date(e,t||0,n??1,r||0,s||0,i||0,a||0);var gn={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:pn,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return J("join",arguments)},indexof:function(){return J("indexOf",arguments)},lastindexof:function(){return J("lastIndexOf",arguments)},slice:function(){return J("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return J("substring",arguments,String)},split:function(){return J("split",arguments,String)},replace:function(){return J("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const mn=["view","item","group","xy","x","y"],qe=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&qe.add(setImmediate);const En={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:un[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const s=e(t.property);if(n&&(e.memberDepth-=1),qe.has(r[s])){console.error(`Prevented interpretation of member "${s}" which could lead to insecure code execution`);return}return r[s]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||gn[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>fn[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>hn[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const s=e(r.key);return e.memberDepth-=1,qe.has(e(r.value))?console.error(`Prevented interpretation of property "${s}" which could lead to insecure code execution`):n[s]=e(r.value),n},{})};function me(e,t,n,r,s,i){const a=l=>En[l.type](a,l);return a.memberDepth=0,a.fn=Object.create(t),a.params=n,a.datum=r,a.event=s,a.item=i,mn.forEach(l=>a.fn[l]=function(){return s.vega[l](...arguments)}),a(e)}var vn={operator(e,t){const n=t.ast,r=e.functions;return s=>me(n,r,s)},parameter(e,t){const n=t.ast,r=e.functions;return(s,i)=>me(n,r,i,s)},event(e,t){const n=t.ast,r=e.functions;return s=>me(n,r,void 0,void 0,s)},handler(e,t){const n=t.ast,r=e.functions;return(s,i)=>{const a=i.item&&i.item.datum;return me(n,r,s,a,i)}},encode(e,t){const{marktype:n,channels:r}=t,s=e.functions,i=n==="group"||n==="image"||n==="rect";return(a,l)=>{const o=a.datum;let m=0,c;for(const d in r)c=me(r[d].ast,s,l,o,void 0,a),a[d]!==c&&(a[d]=c,m=1);return n!=="rule"&&cn(a,r,i),m}}};function we(e){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(e)}function yn(e,t){if(we(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(we(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bn(e){var t=yn(e,"string");return we(t)==="symbol"?t:String(t)}function On(e,t,n){return t=bn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function In(e,t){if(e==null)return{};var n=wn(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const Ln=["title","image"];function Nn(e,t,n){if(qt(e))return`[${e.map(r=>t(Oe(r)?r:nt(r,n))).join(", ")}]`;if(We(e)){let r="";const s=e,{title:i,image:a}=s,l=In(s,Ln);i&&(r+=`<h2>${t(i)}</h2>`),a&&(r+=`<img src="${t(a)}">`);const o=Object.keys(l);if(o.length>0){r+="<table>";for(const m of o){let c=l[m];c!==void 0&&(We(c)&&(c=nt(c,n)),r+=`<tr><td class="key">${t(m)}:</td><td class="value">${t(c)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function Rn(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const s=t.indexOf(this)+1;return t.length=s,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function nt(e,t){return JSON.stringify(e,Rn(t))}var Sn=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const _t="vg-tooltip-element",xn={offsetX:10,offsetY:10,id:_t,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:An,maxDepth:2,formatTooltip:Nn};function An(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Tn(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return Sn.toString().replace(_t,e)}function _n(e,t,n,r){let s=e.clientX+n;s+t.width>window.innerWidth&&(s=+e.clientX-n-t.width);let i=e.clientY+r;return i+t.height>window.innerHeight&&(i=+e.clientY-r-t.height),{x:s,y:i}}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rt(Object(n),!0).forEach(function(r){On(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class Dn{constructor(t){this.options=it(it({},xn),t);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=Tn(n);const s=document.head;s.childNodes.length>0?s.insertBefore(r,s.childNodes[0]):s.appendChild(r)}}tooltipHandler(t,n,r,s){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),s==null||s===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(s,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:i,y:a}=_n(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${a}px`,this.el.style.left=`${i}px`}}function Ie(e){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(e)}function Cn(e,t){if(Ie(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ie(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pn(e){var t=Cn(e,"string");return Ie(t)==="symbol"?t:String(t)}function $n(e,t,n){return t=Pn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ge,st;function jn(){return st||(st=1,Ge=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Ge}var Gn=S;S.Node=ne;S.create=S;function S(e){var t=this;if(t instanceof S||(t=new S),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}S.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};S.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};S.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};S.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Un(this,arguments[e]);return this.length};S.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Vn(this,arguments[e]);return this.length};S.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};S.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};S.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};S.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};S.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};S.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};S.prototype.map=function(e,t){t=t||this;for(var n=new S,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};S.prototype.mapReverse=function(e,t){t=t||this;for(var n=new S,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};S.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;r!==null;s++)n=e(n,r.value,s),r=r.next;return n};S.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;r!==null;s--)n=e(n,r.value,s),r=r.prev;return n};S.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};S.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};S.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new S;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(;s!==null&&r<t;r++,s=s.next)n.push(s.value);return n};S.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new S;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,s=this.tail;s!==null&&r>t;r--)s=s.prev;for(;s!==null&&r>e;r--,s=s.prev)n.push(s.value);return n};S.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(var i=[],r=0;s&&r<t;r++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var r=0;r<n.length;r++)s=Mn(this,s,n[r]);return i};S.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function Mn(e,t,n){var r=t===e.head?new ne(n,null,t,e):new ne(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function Un(e,t){e.tail=new ne(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Vn(e,t){e.head=new ne(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ne(e,t,n,r){if(!(this instanceof ne))return new ne(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{jn()(S)}catch{}const zn=Gn,Q=Symbol("max"),Y=Symbol("length"),re=Symbol("lengthCalculator"),ye=Symbol("allowStale"),Z=Symbol("maxAge"),B=Symbol("dispose"),at=Symbol("noDisposeOnSet"),P=Symbol("lruList"),z=Symbol("cache"),Dt=Symbol("updateAgeOnGet"),Me=()=>1;class Xn{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Q]=t.max||1/0;const n=t.length||Me;if(this[re]=typeof n!="function"?Me:n,this[ye]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Z]=t.maxAge||0,this[B]=t.dispose,this[at]=t.noDisposeOnSet||!1,this[Dt]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Q]=t||1/0,Ee(this)}get max(){return this[Q]}set allowStale(t){this[ye]=!!t}get allowStale(){return this[ye]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Z]=t,Ee(this)}get maxAge(){return this[Z]}set lengthCalculator(t){typeof t!="function"&&(t=Me),t!==this[re]&&(this[re]=t,this[Y]=0,this[P].forEach(n=>{n.length=this[re](n.value,n.key),this[Y]+=n.length})),Ee(this)}get lengthCalculator(){return this[re]}get length(){return this[Y]}get itemCount(){return this[P].length}rforEach(t,n){n=n||this;for(let r=this[P].tail;r!==null;){const s=r.prev;ot(this,t,r,n),r=s}}forEach(t,n){n=n||this;for(let r=this[P].head;r!==null;){const s=r.next;ot(this,t,r,n),r=s}}keys(){return this[P].toArray().map(t=>t.key)}values(){return this[P].toArray().map(t=>t.value)}reset(){this[B]&&this[P]&&this[P].length&&this[P].forEach(t=>this[B](t.key,t.value)),this[z]=new Map,this[P]=new zn,this[Y]=0}dump(){return this[P].map(t=>Ce(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[P]}set(t,n,r){if(r=r||this[Z],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const s=r?Date.now():0,i=this[re](n,t);if(this[z].has(t)){if(i>this[Q])return le(this,this[z].get(t)),!1;const o=this[z].get(t).value;return this[B]&&(this[at]||this[B](t,o.value)),o.now=s,o.maxAge=r,o.value=n,this[Y]+=i-o.length,o.length=i,this.get(t),Ee(this),!0}const a=new Hn(t,n,i,s,r);return a.length>this[Q]?(this[B]&&this[B](t,n),!1):(this[Y]+=a.length,this[P].unshift(a),this[z].set(t,this[P].head),Ee(this),!0)}has(t){if(!this[z].has(t))return!1;const n=this[z].get(t).value;return!Ce(this,n)}get(t){return Ue(this,t,!0)}peek(t){return Ue(this,t,!1)}pop(){const t=this[P].tail;return t?(le(this,t),t.value):null}del(t){le(this,this[z].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const s=t[r],i=s.e||0;if(i===0)this.set(s.k,s.v);else{const a=i-n;a>0&&this.set(s.k,s.v,a)}}}prune(){this[z].forEach((t,n)=>Ue(this,n,!1))}}const Ue=(e,t,n)=>{const r=e[z].get(t);if(r){const s=r.value;if(Ce(e,s)){if(le(e,r),!e[ye])return}else n&&(e[Dt]&&(r.value.now=Date.now()),e[P].unshiftNode(r));return s.value}},Ce=(e,t)=>{if(!t||!t.maxAge&&!e[Z])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Z]&&n>e[Z]},Ee=e=>{if(e[Y]>e[Q])for(let t=e[P].tail;e[Y]>e[Q]&&t!==null;){const n=t.prev;le(e,t),t=n}},le=(e,t)=>{if(t){const n=t.value;e[B]&&e[B](n.key,n.value),e[Y]-=n.length,e[z].delete(n.key),e[P].removeNode(t)}};class Hn{constructor(t,n,r,s,i){this.key=t,this.value=n,this.length=r,this.now=s,this.maxAge=i||0}}const ot=(e,t,n,r)=>{let s=n.value;Ce(e,s)&&(le(e,n),e[ye]||(s=void 0)),s&&t.call(r,s.value,s.key,e)};var Wn=Xn;const qn=Object.freeze({loose:!0}),kn=Object.freeze({}),Bn=e=>e?typeof e!="object"?qn:e:kn;var Be=Bn,ke={exports:{}};const Yn="2.0.0",Kn=256,Jn=Number.MAX_SAFE_INTEGER||9007199254740991,Qn=16,Zn=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ye={MAX_LENGTH:Kn,MAX_SAFE_COMPONENT_LENGTH:Qn,MAX_SAFE_INTEGER:Jn,RELEASE_TYPES:Zn,SEMVER_SPEC_VERSION:Yn,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const er=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Fe=er;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n}=Ye,r=Fe;t=e.exports={};const s=t.re=[],i=t.src=[],a=t.t={};let l=0;const o=(m,c,d)=>{const E=l++;r(m,E,c),a[m]=E,i[E]=c,s[E]=new RegExp(c,d?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","[0-9]+"),o("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),o("MAINVERSION",`(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})`),o("MAINVERSIONLOOSE",`(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASEIDENTIFIER",`(?:${i[a.NUMERICIDENTIFIER]}|${i[a.NONNUMERICIDENTIFIER]})`),o("PRERELEASEIDENTIFIERLOOSE",`(?:${i[a.NUMERICIDENTIFIERLOOSE]}|${i[a.NONNUMERICIDENTIFIER]})`),o("PRERELEASE",`(?:-(${i[a.PRERELEASEIDENTIFIER]}(?:\\.${i[a.PRERELEASEIDENTIFIER]})*))`),o("PRERELEASELOOSE",`(?:-?(${i[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[a.PRERELEASEIDENTIFIERLOOSE]})*))`),o("BUILDIDENTIFIER","[0-9A-Za-z-]+"),o("BUILD",`(?:\\+(${i[a.BUILDIDENTIFIER]}(?:\\.${i[a.BUILDIDENTIFIER]})*))`),o("FULLPLAIN",`v?${i[a.MAINVERSION]}${i[a.PRERELEASE]}?${i[a.BUILD]}?`),o("FULL",`^${i[a.FULLPLAIN]}$`),o("LOOSEPLAIN",`[v=\\s]*${i[a.MAINVERSIONLOOSE]}${i[a.PRERELEASELOOSE]}?${i[a.BUILD]}?`),o("LOOSE",`^${i[a.LOOSEPLAIN]}$`),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",`${i[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),o("XRANGEIDENTIFIER",`${i[a.NUMERICIDENTIFIER]}|x|X|\\*`),o("XRANGEPLAIN",`[v=\\s]*(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:${i[a.PRERELEASE]})?${i[a.BUILD]}?)?)?`),o("XRANGEPLAINLOOSE",`[v=\\s]*(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:${i[a.PRERELEASELOOSE]})?${i[a.BUILD]}?)?)?`),o("XRANGE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAIN]}$`),o("XRANGELOOSE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAINLOOSE]}$`),o("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),o("COERCERTL",i[a.COERCE],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM",`(\\s*)${i[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",o("TILDE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAIN]}$`),o("TILDELOOSE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAINLOOSE]}$`),o("LONECARET","(?:\\^)"),o("CARETTRIM",`(\\s*)${i[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",o("CARET",`^${i[a.LONECARET]}${i[a.XRANGEPLAIN]}$`),o("CARETLOOSE",`^${i[a.LONECARET]}${i[a.XRANGEPLAINLOOSE]}$`),o("COMPARATORLOOSE",`^${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]})$|^$`),o("COMPARATOR",`^${i[a.GTLT]}\\s*(${i[a.FULLPLAIN]})$|^$`),o("COMPARATORTRIM",`(\\s*)${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]}|${i[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE",`^\\s*(${i[a.XRANGEPLAIN]})\\s+-\\s+(${i[a.XRANGEPLAIN]})\\s*$`),o("HYPHENRANGELOOSE",`^\\s*(${i[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[a.XRANGEPLAINLOOSE]})\\s*$`),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ke,ke.exports);var Ke=ke.exports;const lt=/^[0-9]+$/,Ct=(e,t)=>{const n=lt.test(e),r=lt.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},tr=(e,t)=>Ct(t,e);var nr={compareIdentifiers:Ct,rcompareIdentifiers:tr};const xe=Fe,{MAX_LENGTH:ct,MAX_SAFE_INTEGER:Ae}=Ye,{re:ut,t:ft}=Ke,rr=Be,{compareIdentifiers:ie}=nr;let ir=class q{constructor(t,n){if(n=rr(n),t instanceof q){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>ct)throw new TypeError(`version is longer than ${ct} characters`);xe("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?ut[ft.LOOSE]:ut[ft.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Ae||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ae||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ae||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Ae)return i}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(xe("SemVer.compare",this.version,this.options,t),!(t instanceof q)){if(typeof t=="string"&&t===this.version)return 0;t=new q(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof q||(t=new q(t,this.options)),ie(this.major,t.major)||ie(this.minor,t.minor)||ie(this.patch,t.patch)}comparePre(t){if(t instanceof q||(t=new q(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],s=t.prerelease[n];if(xe("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return ie(r,s)}while(++n)}compareBuild(t){t instanceof q||(t=new q(t,this.options));let n=0;do{const r=this.build[n],s=t.build[n];if(xe("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return ie(r,s)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}if(n){const s=Number(r)?1:0;ie(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,s]):this.prerelease=[n,s]}break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};var Je=ir;const ht=Je,sr=(e,t,n)=>new ht(e,n).compare(new ht(t,n));var de=sr;const ar=de,or=(e,t,n)=>ar(e,t,n)===0;var lr=or;const cr=de,ur=(e,t,n)=>cr(e,t,n)!==0;var fr=ur;const hr=de,dr=(e,t,n)=>hr(e,t,n)>0;var pr=dr;const gr=de,mr=(e,t,n)=>gr(e,t,n)>=0;var Er=mr;const vr=de,yr=(e,t,n)=>vr(e,t,n)<0;var br=yr;const Or=de,wr=(e,t,n)=>Or(e,t,n)<=0;var Ir=wr;const Lr=lr,Nr=fr,Rr=pr,Sr=Er,xr=br,Ar=Ir,Tr=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return Lr(e,n,r);case"!=":return Nr(e,n,r);case">":return Rr(e,n,r);case">=":return Sr(e,n,r);case"<":return xr(e,n,r);case"<=":return Ar(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var _r=Tr,Ve,dt;function Dr(){if(dt)return Ve;dt=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}a("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(c){const d=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR],E=c.match(d);if(!E)throw new TypeError(`Invalid comparator: ${c}`);this.operator=E[1]!==void 0?E[1]:"",this.operator==="="&&(this.operator=""),E[2]?this.semver=new l(E[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(a("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new l(c,this.options)}catch{return!1}return i(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new o(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new o(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||i(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||i(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Ve=t;const n=Be,{re:r,t:s}=Ke,i=_r,a=Fe,l=Je,o=Pt();return Ve}var ze,pt;function Pt(){if(pt)return ze;pt=1;class e{constructor(u,O){if(O=r(O),u instanceof e)return u.loose===!!O.loose&&u.includePrerelease===!!O.includePrerelease?u:new e(u.raw,O);if(u instanceof s)return this.raw=u.value,this.set=[[u]],this.format(),this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=u,this.set=u.split("||").map(y=>this.parseRange(y.trim())).filter(y=>y.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${u}`);if(this.set.length>1){const y=this.set[0];if(this.set=this.set.filter(b=>!x(b[0])),this.set.length===0)this.set=[y];else if(this.set.length>1){for(const b of this.set)if(b.length===1&&$(b[0])){this.set=[b];break}}}this.format()}format(){return this.range=this.set.map(u=>u.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(u){u=u.trim();const y=((this.options.includePrerelease&&E)|(this.options.loose&&A))+":"+u,b=n.get(y);if(b)return b;const h=this.options.loose,w=h?l[o.HYPHENRANGELOOSE]:l[o.HYPHENRANGE];u=u.replace(w,U(this.options.includePrerelease)),i("hyphen replace",u),u=u.replace(l[o.COMPARATORTRIM],m),i("comparator trim",u),u=u.replace(l[o.TILDETRIM],c),u=u.replace(l[o.CARETTRIM],d),u=u.split(/\s+/).join(" ");let R=u.split(" ").map(C=>D(C,this.options)).join(" ").split(/\s+/).map(C=>V(C,this.options));h&&(R=R.filter(C=>(i("loose invalid filter",C,this.options),!!C.match(l[o.COMPARATORLOOSE])))),i("range list",R);const L=new Map,_=R.map(C=>new s(C,this.options));for(const C of _){if(x(C))return[C];L.set(C.value,C)}L.size>1&&L.has("")&&L.delete("");const M=[...L.values()];return n.set(y,M),M}intersects(u,O){if(!(u instanceof e))throw new TypeError("a Range is required");return this.set.some(y=>j(y,O)&&u.set.some(b=>j(b,O)&&y.every(h=>b.every(w=>h.intersects(w,O)))))}test(u){if(!u)return!1;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(H(this.set[O],u,this.options))return!0;return!1}}ze=e;const t=Wn,n=new t({max:1e3}),r=Be,s=Dr(),i=Fe,a=Je,{re:l,t:o,comparatorTrimReplace:m,tildeTrimReplace:c,caretTrimReplace:d}=Ke,{FLAG_INCLUDE_PRERELEASE:E,FLAG_LOOSE:A}=Ye,x=f=>f.value==="<0.0.0-0",$=f=>f.value==="",j=(f,u)=>{let O=!0;const y=f.slice();let b=y.pop();for(;O&&y.length;)O=y.every(h=>b.intersects(h,u)),b=y.pop();return O},D=(f,u)=>(i("comp",f,u),f=g(f,u),i("caret",f),f=F(f,u),i("tildes",f),f=I(f,u),i("xrange",f),f=T(f,u),i("stars",f),f),N=f=>!f||f.toLowerCase()==="x"||f==="*",F=(f,u)=>f.trim().split(/\s+/).map(O=>G(O,u)).join(" "),G=(f,u)=>{const O=u.loose?l[o.TILDELOOSE]:l[o.TILDE];return f.replace(O,(y,b,h,w,R)=>{i("tilde",f,y,b,h,w,R);let L;return N(b)?L="":N(h)?L=`>=${b}.0.0 <${+b+1}.0.0-0`:N(w)?L=`>=${b}.${h}.0 <${b}.${+h+1}.0-0`:R?(i("replaceTilde pr",R),L=`>=${b}.${h}.${w}-${R} <${b}.${+h+1}.0-0`):L=`>=${b}.${h}.${w} <${b}.${+h+1}.0-0`,i("tilde return",L),L})},g=(f,u)=>f.trim().split(/\s+/).map(O=>v(O,u)).join(" "),v=(f,u)=>{i("caret",f,u);const O=u.loose?l[o.CARETLOOSE]:l[o.CARET],y=u.includePrerelease?"-0":"";return f.replace(O,(b,h,w,R,L)=>{i("caret",f,b,h,w,R,L);let _;return N(h)?_="":N(w)?_=`>=${h}.0.0${y} <${+h+1}.0.0-0`:N(R)?h==="0"?_=`>=${h}.${w}.0${y} <${h}.${+w+1}.0-0`:_=`>=${h}.${w}.0${y} <${+h+1}.0.0-0`:L?(i("replaceCaret pr",L),h==="0"?w==="0"?_=`>=${h}.${w}.${R}-${L} <${h}.${w}.${+R+1}-0`:_=`>=${h}.${w}.${R}-${L} <${h}.${+w+1}.0-0`:_=`>=${h}.${w}.${R}-${L} <${+h+1}.0.0-0`):(i("no pr"),h==="0"?w==="0"?_=`>=${h}.${w}.${R}${y} <${h}.${w}.${+R+1}-0`:_=`>=${h}.${w}.${R}${y} <${h}.${+w+1}.0-0`:_=`>=${h}.${w}.${R} <${+h+1}.0.0-0`),i("caret return",_),_})},I=(f,u)=>(i("replaceXRanges",f,u),f.split(/\s+/).map(O=>p(O,u)).join(" ")),p=(f,u)=>{f=f.trim();const O=u.loose?l[o.XRANGELOOSE]:l[o.XRANGE];return f.replace(O,(y,b,h,w,R,L)=>{i("xRange",f,y,b,h,w,R,L);const _=N(h),M=_||N(w),C=M||N(R),pe=C;return b==="="&&pe&&(b=""),L=u.includePrerelease?"-0":"",_?b===">"||b==="<"?y="<0.0.0-0":y="*":b&&pe?(M&&(w=0),R=0,b===">"?(b=">=",M?(h=+h+1,w=0,R=0):(w=+w+1,R=0)):b==="<="&&(b="<",M?h=+h+1:w=+w+1),b==="<"&&(L="-0"),y=`${b+h}.${w}.${R}${L}`):M?y=`>=${h}.0.0${L} <${+h+1}.0.0-0`:C&&(y=`>=${h}.${w}.0${L} <${h}.${+w+1}.0-0`),i("xRange return",y),y})},T=(f,u)=>(i("replaceStars",f,u),f.trim().replace(l[o.STAR],"")),V=(f,u)=>(i("replaceGTE0",f,u),f.trim().replace(l[u.includePrerelease?o.GTE0PRE:o.GTE0],"")),U=f=>(u,O,y,b,h,w,R,L,_,M,C,pe,mi)=>(N(y)?O="":N(b)?O=`>=${y}.0.0${f?"-0":""}`:N(h)?O=`>=${y}.${b}.0${f?"-0":""}`:w?O=`>=${O}`:O=`>=${O}${f?"-0":""}`,N(_)?L="":N(M)?L=`<${+_+1}.0.0-0`:N(C)?L=`<${_}.${+M+1}.0-0`:pe?L=`<=${_}.${M}.${C}-${pe}`:f?L=`<${_}.${M}.${+C+1}-0`:L=`<=${L}`,`${O} ${L}`.trim()),H=(f,u,O)=>{for(let y=0;y<f.length;y++)if(!f[y].test(u))return!1;if(u.prerelease.length&&!O.includePrerelease){for(let y=0;y<f.length;y++)if(i(f[y].semver),f[y].semver!==s.ANY&&f[y].semver.prerelease.length>0){const b=f[y].semver;if(b.major===u.major&&b.minor===u.minor&&b.patch===u.patch)return!0}return!1}return!0};return ze}const Cr=Pt(),Pr=(e,t,n)=>{try{t=new Cr(t,n)}catch{return!1}return t.test(e)};var $r=Pr,$t=Fn($r);function Fr(e,t,n){const r=e.open(t),s=1e4,i=250,{origin:a}=new URL(t);let l=~~(s/i);function o(c){c.source===r&&(l=0,e.removeEventListener("message",o,!1))}e.addEventListener("message",o,!1);function m(){l<=0||(r.postMessage(n,a),setTimeout(m,i),l-=1)}setTimeout(m,i)}var jr=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function Ft(e,...t){for(const n of t)Gr(e,n);return e}function Gr(e,t){for(const n of Object.keys(t))Qt(e,n,t[n],!0)}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gt(Object(n),!0).forEach(function(r){$n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const X=kt;let Le=Bt;const Te=typeof window<"u"?window:void 0;var Ot;Le===void 0&&((Ot=Te==null?void 0:Te.vl)!=null&&Ot.compile)&&(Le=Te.vl);const Mr={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Ur={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},ve={vega:"Vega","vega-lite":"Vega-Lite"},Pe={vega:X.version,"vega-lite":Le?Le.version:"not available"},Vr={vega:e=>e,"vega-lite":(e,t)=>Le.compile(e,{config:t}).spec},zr=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,Xr="chart-wrapper";function Hr(e){return typeof e=="function"}function mt(e,t,n,r){const s=`<html><head>${t}</head><body><pre><code class="json">`,i=`</code></pre>${n}</body></html>`,a=window.open("");a.document.write(s+e+i),a.document.title=`${ve[r]} JSON Source`}function Wr(e,t){if(e.$schema){const n=Tt(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${ve[n.library]}, but mode argument sets ${ve[t]??t}.`);const r=n.library;return $t(Pe[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${ve[r]} ${n.version}, but the current version of ${ve[r]} is v${Pe[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function qr(e){return!!(e&&"load"in e)}function Et(e){return qr(e)?e:X.loader(e)}function kr(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Oe(t.defaultStyle)&&(t.defaultStyle=!1),t}async function Br(e,t,n={}){let r,s;Oe(t)?(s=Et(n.loader),r=JSON.parse(await s.load(t))):r=t;const i=kr(r),a=i.loader;(!s||a)&&(s=Et(n.loader??a));const l=await vt(i,s),o=await vt(n,s),m=K(K({},Ft(o,l)),{},{config:At(o.config??{},l.config??{})});return await Kr(e,r,m,s)}async function vt(e,t){const n=Oe(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Oe(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return K(K(K({},e),r?{patch:r}:{}),n?{config:n}:{})}function Yr(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function Kr(e,t,n={},r){const s=n.theme?At(Yt[n.theme],n.config??{}):n.config,i=Kt(n.actions)?n.actions:Ft({},Mr,n.actions??{}),a=K(K({},Ur),n.i18n),l=n.renderer??"canvas",o=n.logLevel??X.Warn,m=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const g="vega-embed-style",{root:v,rootContainer:I}=Yr(c);if(!v.getElementById(g)){const p=document.createElement("style");p.id=g,p.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?jr.toString():n.defaultStyle,I.appendChild(p)}}const d=Wr(t,n.mode);let E=Vr[d](t,s);if(d==="vega-lite"&&E.$schema){const g=Tt(E.$schema);$t(Pe.vega,`^${g.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${g.version}, but current version is v${Pe.vega}.`)}c.classList.add("vega-embed"),i&&c.classList.add("has-actions"),c.innerHTML="";let A=c;if(i){const g=document.createElement("div");g.classList.add(Xr),c.appendChild(g),A=g}const x=n.patch;if(x&&(E=x instanceof Function?x(E):Jt(E,x,!0,!1).newDocument),n.formatLocale&&X.formatLocale(n.formatLocale),n.timeFormatLocale&&X.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const g in n.expressionFunctions){const v=n.expressionFunctions[g];"fn"in v?X.expressionFunction(g,v.fn,v.visitor):v instanceof Function&&X.expressionFunction(g,v)}const{ast:$}=n,j=X.parse(E,d==="vega-lite"?{}:s,{ast:$}),D=new(n.viewClass||X.View)(j,K({loader:r,logLevel:o,renderer:l},$?{expr:X.expressionInterpreter??n.expr??vn}:{}));if(D.addSignalListener("autosize",(g,v)=>{const{type:I}=v;I=="fit-x"?(A.classList.add("fit-x"),A.classList.remove("fit-y")):I=="fit-y"?(A.classList.remove("fit-x"),A.classList.add("fit-y")):I=="fit"?A.classList.add("fit-x","fit-y"):A.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const g=Hr(n.tooltip)?n.tooltip:new Dn(n.tooltip===!0?{}:n.tooltip).call;D.tooltip(g)}let{hover:N}=n;if(N===void 0&&(N=d==="vega"),N){const{hoverSet:g,updateSet:v}=typeof N=="boolean"?{}:N;D.hover(g,v)}n&&(n.width!=null&&D.width(n.width),n.height!=null&&D.height(n.height),n.padding!=null&&D.padding(n.padding)),await D.initialize(A,n.bind).runAsync();let F;if(i!==!1){let g=c;if(n.defaultStyle!==!1){const I=document.createElement("details");I.title=a.CLICK_TO_VIEW_ACTIONS,c.append(I),g=I;const p=document.createElement("summary");p.innerHTML=zr,I.append(p),F=T=>{I.contains(T.target)||I.removeAttribute("open")},document.addEventListener("click",F)}const v=document.createElement("div");if(g.append(v),v.classList.add("vega-actions"),i===!0||i.export!==!1){for(const I of["svg","png"])if(i===!0||i.export===!0||i.export[I]){const p=a[`${I.toUpperCase()}_ACTION`],T=document.createElement("a"),V=We(n.scaleFactor)?n.scaleFactor[I]:n.scaleFactor;T.text=p,T.href="#",T.target="_blank",T.download=`${m}.${I}`,T.addEventListener("mousedown",async function(U){U.preventDefault();const H=await D.toImageURL(I,V);this.href=H}),v.append(T)}}if(i===!0||i.source!==!1){const I=document.createElement("a");I.text=a.SOURCE_ACTION,I.href="#",I.addEventListener("click",function(p){mt(je(t),n.sourceHeader??"",n.sourceFooter??"",d),p.preventDefault()}),v.append(I)}if(d==="vega-lite"&&(i===!0||i.compiled!==!1)){const I=document.createElement("a");I.text=a.COMPILED_ACTION,I.href="#",I.addEventListener("click",function(p){mt(je(E),n.sourceHeader??"",n.sourceFooter??"","vega"),p.preventDefault()}),v.append(I)}if(i===!0||i.editor!==!1){const I=n.editorUrl??"https://vega.github.io/editor/",p=document.createElement("a");p.text=a.EDITOR_ACTION,p.href="#",p.addEventListener("click",function(T){Fr(window,I,{config:s,mode:d,renderer:l,spec:je(t)}),T.preventDefault()}),v.append(p)}}function G(){F&&document.removeEventListener("click",F),D.finalize()}return{view:D,spec:t,vgSpec:E,finalize:G,embedOptions:n}}const Jr=new Set(["width","height"]);function Qr(e,t){for(const[n,r]of Object.entries(t))r&&(r&&{}.toString.call(r)==="[object Function]"?r(e.data(n)):e.change(n,X.changeset().remove(()=>!0).insert(r)))}function _e(e={},t={},n=new Set){const r=Object.keys(e),s=Object.keys(t);return e===t||r.length===s.length&&r.filter(i=>!n.has(i)).every(i=>e[i]===t[i])}function yt(e,t){const n=Object.keys(t);for(const r of n)try{e.removeSignalListener(r,t[r])}catch(s){console.warn("Cannot remove invalid signal listener.",s)}return n.length>0}function Xe(e,t){const n=Object.keys(t);for(const r of n)try{e.addSignalListener(r,t[r])}catch(s){console.warn("Cannot add invalid signal listener.",s)}return n.length>0}function Zr(e){return new Set(e.flatMap(t=>Object.keys(t)))}function ei(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r="width"in e||"width"in t,s="height"in e||"height"in t;return r&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),s&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),[...Zr([e,t])].filter(a=>a!=="width"&&a!=="height").some(a=>!(a in e)||!(a in t)||!Zt(e[a],t[a]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function bt(e,t){const{width:n,height:r}=t;return typeof n<"u"&&typeof r<"u"?{...e,width:n,height:r}:typeof n<"u"?{...e,width:n}:typeof r<"u"?{...e,height:r}:e}function ti(e){let t;return{c(){t=se("div")},l(n){t=ae(n,"DIV",{}),oe(t).forEach(k)},m(n,r){$e(n,t,r),e[11](t)},p:De,i:De,o:De,d(n){n&&k(t),e[11](null)}}}function ni(e,t,n){let{options:r}=t,{spec:s}=t,{view:i}=t,{signalListeners:a={}}=t,{data:l={}}=t;const o=Nt();let m,c={},d={},E={},A={},x;Rt(()=>{j()});async function $(){j();try{n(6,m=await Br(x,s,r)),n(1,i=m.view),Xe(i,a)&&i.runAsync(),N(i)}catch(g){D(g)}}function j(){m&&(m.finalize(),n(6,m=void 0),n(1,i=void 0))}function D(g){o("onError",{error:g}),console.warn(g)}function N(g){F(),o("onNewView",{view:g})}async function F(){l&&Object.keys(l).length>0&&m!==void 0&&(n(1,i=m.view),Qr(i,l),await i.resize().runAsync())}function G(g){be[g?"unshift":"push"](()=>{x=g,n(0,x)})}return e.$$set=g=>{"options"in g&&n(2,r=g.options),"spec"in g&&n(3,s=g.spec),"view"in g&&n(1,i=g.view),"signalListeners"in g&&n(4,a=g.signalListeners),"data"in g&&n(5,l=g.data)},e.$$.update=()=>{if(e.$$.dirty&1056&&(_e(l,A)||F(),n(10,A=l)),e.$$.dirty&991&&x!==void 0){if(!_e(r,c,Jr))$();else{const g=ei(bt(s,r),bt(E,c)),v=a,I=d;if(g){if(g.isExpensive)$();else if(m!==void 0){const p=!_e(v,I);n(1,i=m.view),g.width!==!1&&i.width(g.width),g.height!==!1&&i.height(g.height),p&&(I&&yt(i,I),v&&Xe(i,v)),i.runAsync()}}else!_e(v,I)&&m!==void 0&&(n(1,i=m.view),I&&yt(i,I),v&&Xe(i,v),i.runAsync())}n(7,c=r),n(8,d=a),n(9,E=s)}},[x,i,r,s,a,l,m,c,d,E,A,G]}class ri extends Ne{constructor(t){super(),Re(this,t,ni,ti,Se,{options:2,spec:3,view:1,signalListeners:4,data:5})}}function ii(e){let t,n,r;function s(a){e[6](a)}let i={spec:e[1],data:e[2],signalListeners:e[3],options:e[4]};return e[0]!==void 0&&(i.view=e[0]),t=new ri({props:i}),be.push(()=>wt(t,"view",s)),t.$on("onNewView",e[7]),t.$on("onError",e[8]),{c(){ce(t.$$.fragment)},l(a){ue(t.$$.fragment,a)},m(a,l){fe(t,a,l),r=!0},p(a,[l]){const o={};l&2&&(o.spec=a[1]),l&4&&(o.data=a[2]),l&8&&(o.signalListeners=a[3]),l&16&&(o.options=a[4]),!n&&l&1&&(n=!0,o.view=a[0],It(()=>n=!1)),t.$set(o)},i(a){r||(ee(t.$$.fragment,a),r=!0)},o(a){te(t.$$.fragment,a),r=!1},d(a){he(t,a)}}}const si="vega-lite";function ai(e,t,n){let r,{spec:s}=t,{options:i={}}=t,{data:a={}}=t,{signalListeners:l={}}=t,{view:o=void 0}=t;function m(E){o=E,n(0,o)}function c(E){Ze.call(this,e,E)}function d(E){Ze.call(this,e,E)}return e.$$set=E=>{"spec"in E&&n(1,s=E.spec),"options"in E&&n(5,i=E.options),"data"in E&&n(2,a=E.data),"signalListeners"in E&&n(3,l=E.signalListeners),"view"in E&&n(0,o=E.view)},e.$$.update=()=>{e.$$.dirty&32&&n(4,r={...i,mode:si})},[o,s,a,l,r,i,m,c,d]}class oi extends Ne{constructor(t){super(),Re(this,t,ai,ii,Se,{spec:1,options:5,data:2,signalListeners:3,view:0})}}function li(e){let t,n;return t=new oi({props:{data:e[1],spec:e[0],options:e[2]}}),{c(){ce(t.$$.fragment)},l(r){ue(t.$$.fragment,r)},m(r,s){fe(t,r,s),n=!0},p(r,[s]){const i={};s&2&&(i.data=r[1]),s&1&&(i.spec=r[0]),t.$set(i)},i(r){n||(ee(t.$$.fragment,r),n=!0)},o(r){te(t.$$.fragment,r),n=!1},d(r){he(t,r)}}}function ci(e,t){const n=[];for(const[r,s]of e.entries())n.push({label:s,value:t[r]});return{table:n}}function ui(e,t,n){let r,s,{labels:i=[]}=t,{values:a=[]}=t,{color:l="blue"}=t;const o={$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:220,height:110,data:{name:"table"},mark:"bar",encoding:{x:{field:"label",type:"nominal",sort:null,title:null,axis:{labelFontSize:18,labelAngle:0,ticks:!1}},y:{field:"value",type:"quantitative",title:null,scale:{domain:[0,1]},axis:null}}},m={actions:!1};function c(d){const E=JSON.parse(JSON.stringify(o));return E.encoding.color={value:d},E}return e.$$set=d=>{"labels"in d&&n(3,i=d.labels),"values"in d&&n(4,a=d.values),"color"in d&&n(5,l=d.color)},e.$$.update=()=>{e.$$.dirty&24&&n(1,r=ci(i,a)),e.$$.dirty&32&&n(0,s=c(l))},[s,r,m,i,a,l]}class Oi extends Ne{constructor(t){super(),Re(this,t,ui,li,Se,{labels:3,values:4,color:5})}}function fi(e){let t,n,r,s,i,a;return{c(){t=se("div"),n=se("div"),r=se("canvas"),s=St(),i=se("div"),a=se("canvas"),this.h()},l(l){t=ae(l,"DIV",{class:!0});var o=oe(t);n=ae(o,"DIV",{class:!0});var m=oe(n);r=ae(m,"CANVAS",{class:!0,id:!0,width:!0,height:!0}),oe(r).forEach(k),m.forEach(k),s=xt(o),i=ae(o,"DIV",{class:!0});var c=oe(i);a=ae(c,"CANVAS",{class:!0,width:!0,height:!0}),oe(a).forEach(k),c.forEach(k),o.forEach(k),this.h()},h(){W(r,"class","drawcanvas svelte-en9web"),W(r,"id","canvas"),W(r,"width","140"),W(r,"height","140"),W(n,"class","drawcanvas-wrapper svelte-en9web"),W(a,"class","normalizecanvas svelte-en9web"),W(a,"width","28"),W(a,"height","28"),W(i,"class","normalizecanvas-wrapper svelte-en9web"),W(t,"class","numbers svelte-en9web")},m(l,o){$e(l,t,o),ge(t,n),ge(n,r),e[4](r),ge(t,s),ge(t,i),ge(i,a),e[5](a)},p:De,d(l){l&&k(t),e[4](null),e[5](null)}}}function hi(e){let t;return{c(){t=Ht("Effacer")},l(n){t=Wt(n,"Effacer")},m(n,r){$e(n,t,r)},d(n){n&&k(t)}}}function di(e){let t,n;return t=new nn({props:{id:"clear-canvas",$$slots:{default:[hi]},$$scope:{ctx:e}}}),t.$on("click",e[2]),{c(){ce(t.$$.fragment)},l(r){ue(t.$$.fragment,r)},m(r,s){fe(t,r,s),n=!0},p(r,s){const i={};s&2097152&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ee(t.$$.fragment,r),n=!0)},o(r){te(t.$$.fragment,r),n=!1},d(r){he(t,r)}}}function pi(e){let t,n,r,s;return t=new tt({props:{$$slots:{default:[fi]},$$scope:{ctx:e}}}),r=new tt({props:{$$slots:{default:[di]},$$scope:{ctx:e}}}),{c(){ce(t.$$.fragment),n=St(),ce(r.$$.fragment)},l(i){ue(t.$$.fragment,i),n=xt(i),ue(r.$$.fragment,i)},m(i,a){fe(t,i,a),$e(i,n,a),fe(r,i,a),s=!0},p(i,[a]){const l={};a&2097155&&(l.$$scope={dirty:a,ctx:i}),t.$set(l);const o={};a&2097152&&(o.$$scope={dirty:a,ctx:i}),r.$set(o)},i(i){s||(ee(t.$$.fragment,i),ee(r.$$.fragment,i),s=!0)},o(i){te(t.$$.fragment,i),te(r.$$.fragment,i),s=!1},d(i){he(t,i),i&&k(n),he(r,i)}}}function gi(e,t,n){let{movesPerPrediction:r=20}=t;const s=Nt();let i=9,a=2*i,l,o,m,c,d={x:0,y:0},E=!1,A=-1;const x={pointerdown:p=>{E||(N(p),E=!0,A=p.pointerId)},pointermove:p=>{E&&A===p.pointerId&&F(p)},pointerup:p=>{A===p.pointerId&&(E=!1,g())},pointerleave:p=>{A===p.pointerId&&(E=!1)},pointercancel:p=>{A===p.pointerId&&(E=!1)}};Lt(()=>{j(),n(1,o.width=28,o),n(1,o.height=28,o);const p=()=>{i=Math.floor(l.clientWidth/28)-1,a=2*i,n(0,l.width=l.clientWidth,l),n(0,l.height=l.clientWidth,l)};p(),window.onresize=()=>{p()},m=l.getContext("2d",{willReadFrequently:!0}),c=o.getContext("2d",{willReadFrequently:!0}),$()}),Rt(()=>{$(),D()});function $(){m.fillRect(0,0,l.width,l.height),G(100),g()}function j(){for(const p in x)l.addEventListener(p,x[p],{passive:!0})}function D(){for(const p in x)l.removeEventListener(p,x[p])}function N(p){const T=l.getBoundingClientRect();d.x=p.clientX-T.left,d.y=p.clientY-T.top}function F(p){const T=d.x,V=d.y;N(p);const U=d.x,H=d.y;if(Math.abs(U-T)+Math.abs(H-V)<3){d.x=T,d.y=V;return}m.beginPath(),m.lineWidth=a,m.lineCap="round",m.strokeStyle="white",m.moveTo(T,V),N(p),m.lineTo(U,H),m.stroke(),c.fillStyle="black",c.fillRect(0,0,o.width,o.height),G(a)}function G(p){let T=0,V=0,U=1e3,H=-1e3,f=1e3,u=-1e3;const O=m.getImageData(0,0,l.width,l.height),{data:y}=O;let b=0;for(let h=0;h<y.length;h+=4*p){const w=h/4%l.width,R=h/4/l.width|0;b+=y[h],T+=y[h]*w,V+=y[h]*R,y[h]>0&&(U=Math.min(U,R),H=Math.max(H,R),f=Math.min(f,w),u=Math.max(u,w))}if(b>0){T/=b,V/=b;const h=Math.max(u-f,H-U);c.drawImage(l,f,U,h,h,14+20/h*(f-T),14+20/h*(U-V),20,20)}else c.fillRect(0,0,o.width,o.height)}function g(){s("imageData",{image:o})}function v(p){be[p?"unshift":"push"](()=>{l=p,n(0,l)})}function I(p){be[p?"unshift":"push"](()=>{o=p,n(1,o)})}return e.$$set=p=>{"movesPerPrediction"in p&&n(3,r=p.movesPerPrediction)},[l,o,$,r,v,I]}class wi extends Ne{constructor(t){super(),Re(this,t,gi,pi,Se,{movesPerPrediction:3})}}export{wi as D,Oi as a};

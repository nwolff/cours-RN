import{i as Ce,j as Bs,k as L,e as Gs}from"./stores.0Q_cJDUb.js";import{g as qs,h as Hs,j as Us,k as Xs,l as Ys,p as Ks,n as Zs,o as Js,i as Qs,a as yt,b as Tn,v as ea,c as ta,e as zi,m as Mi,t as ra,d as na,f as ia,s as Ut,w as sa}from"./vega-themes.module.FjrZOAun.js";function aa(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const oa=Object.freeze(Object.defineProperty({__proto__:null,get format(){return qs},formatDefaultLocale:Hs,formatLocale:Us,get formatPrefix(){return Xs},formatSpecifier:Ys,precisionFixed:Ks,precisionPrefix:Zs,precisionRound:Js},Symbol.toStringTag,{value:"Module"}));var kr={};const Fi=Ce(Bs);var jr={},fr={exports:{}};const la="2.0.0",ki=256,ua=Number.MAX_SAFE_INTEGER||9007199254740991,ca=16,fa=ki-6,ha=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Lt={MAX_LENGTH:ki,MAX_SAFE_COMPONENT_LENGTH:ca,MAX_SAFE_BUILD_LENGTH:fa,MAX_SAFE_INTEGER:ua,RELEASE_TYPES:ha,SEMVER_SPEC_VERSION:la,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Xt={};const da=typeof process=="object"&&Xt&&Xt.NODE_DEBUG&&/\bsemver\b/i.test(Xt.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Tt=da;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Lt,s=Tt;t=e.exports={};const o=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,n]],h=b=>{for(const[m,S]of d)b=b.split(`${m}*`).join(`${m}{0,${S}}`).split(`${m}+`).join(`${m}{1,${S}}`);return b},p=(b,m,S)=>{const _=h(m),A=c++;s(b,A,m),u[b]=A,l[A]=m,o[A]=new RegExp(m,S?"g":void 0),a[A]=new RegExp(_,S?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(fr,fr.exports);var Ke=fr.exports;const pa=Object.freeze({loose:!0}),ma=Object.freeze({}),va=e=>e?typeof e!="object"?pa:e:ma;var Vr=va;const Cn=/^[0-9]+$/,ji=(e,t)=>{const r=Cn.test(e),n=Cn.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},ga=(e,t)=>ji(t,e);var Vi={compareIdentifiers:ji,rcompareIdentifiers:ga};const at=Tt,{MAX_LENGTH:In,MAX_SAFE_INTEGER:ot}=Lt,{safeRe:Pn,t:Dn}=Ke,ya=Vr,{compareIdentifiers:Oe}=Vi;let ba=class ne{constructor(t,r){if(r=ya(r),t instanceof ne){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>In)throw new TypeError(`version is longer than ${In} characters`);at("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Pn[Dn.LOOSE]:Pn[Dn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ot||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ot||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ot||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<ot)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(at("SemVer.compare",this.version,this.options,t),!(t instanceof ne)){if(typeof t=="string"&&t===this.version)return 0;t=new ne(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof ne||(t=new ne(t,this.options)),Oe(this.major,t.major)||Oe(this.minor,t.minor)||Oe(this.patch,t.patch)}comparePre(t){if(t instanceof ne||(t=new ne(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(at("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Oe(n,i)}while(++r)}compareBuild(t){t instanceof ne||(t=new ne(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(at("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Oe(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Oe(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var W=ba;const zn=W,_a=(e,t,r=!1)=>{if(e instanceof zn)return e;try{return new zn(e,t)}catch(n){if(!r)return null;throw n}};var Ie=_a;const xa=Ie,Sa=(e,t)=>{const r=xa(e,t);return r?r.version:null};var wa=Sa;const Ea=Ie,$a=(e,t)=>{const r=Ea(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Oa=$a;const Mn=W,Aa=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Mn(e instanceof Mn?e.version:e,r).inc(t,n,i).version}catch{return null}};var Ra=Aa;const Fn=Ie,Na=(e,t)=>{const r=Fn(e,null,!0),n=Fn(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const c=l?"pre":"";return r.major!==n.major?c+"major":r.minor!==n.minor?c+"minor":r.patch!==n.patch?c+"patch":"prerelease"};var La=Na;const Ta=W,Ca=(e,t)=>new Ta(e,t).major;var Ia=Ca;const Pa=W,Da=(e,t)=>new Pa(e,t).minor;var za=Da;const Ma=W,Fa=(e,t)=>new Ma(e,t).patch;var ka=Fa;const ja=Ie,Va=(e,t)=>{const r=ja(e,t);return r&&r.prerelease.length?r.prerelease:null};var Wa=Va;const kn=W,Ba=(e,t,r)=>new kn(e,r).compare(new kn(t,r));var te=Ba;const Ga=te,qa=(e,t,r)=>Ga(t,e,r);var Ha=qa;const Ua=te,Xa=(e,t)=>Ua(e,t,!0);var Ya=Xa;const jn=W,Ka=(e,t,r)=>{const n=new jn(e,r),i=new jn(t,r);return n.compare(i)||n.compareBuild(i)};var Wr=Ka;const Za=Wr,Ja=(e,t)=>e.sort((r,n)=>Za(r,n,t));var Qa=Ja;const eo=Wr,to=(e,t)=>e.sort((r,n)=>eo(n,r,t));var ro=to;const no=te,io=(e,t,r)=>no(e,t,r)>0;var Ct=io;const so=te,ao=(e,t,r)=>so(e,t,r)<0;var Br=ao;const oo=te,lo=(e,t,r)=>oo(e,t,r)===0;var Wi=lo;const uo=te,co=(e,t,r)=>uo(e,t,r)!==0;var Bi=co;const fo=te,ho=(e,t,r)=>fo(e,t,r)>=0;var Gr=ho;const po=te,mo=(e,t,r)=>po(e,t,r)<=0;var qr=mo;const vo=Wi,go=Bi,yo=Ct,bo=Gr,_o=Br,xo=qr,So=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return vo(e,r,n);case"!=":return go(e,r,n);case">":return yo(e,r,n);case">=":return bo(e,r,n);case"<":return _o(e,r,n);case"<=":return xo(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Gi=So;const wo=W,Eo=Ie,{safeRe:lt,t:ut}=Ke,$o=(e,t)=>{if(e instanceof wo)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(lt[ut.COERCE]);else{let n;for(;(n=lt[ut.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),lt[ut.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;lt[ut.COERCERTL].lastIndex=-1}return r===null?null:Eo(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};var Oo=$o,Yt,Vn;function Ao(){return Vn||(Vn=1,Yt=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Yt}var Ro=C;C.Node=xe;C.create=C;function C(e){var t=this;if(t instanceof C||(t=new C),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}C.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};C.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};C.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};C.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Lo(this,arguments[e]);return this.length};C.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)To(this,arguments[e]);return this.length};C.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};C.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};C.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};C.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};C.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};C.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};C.prototype.map=function(e,t){t=t||this;for(var r=new C,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};C.prototype.mapReverse=function(e,t){t=t||this;for(var r=new C,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};C.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};C.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};C.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};C.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};C.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new C;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};C.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new C;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};C.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=No(this,i,r[n]);return s};C.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function No(e,t,r){var n=t===e.head?new xe(r,null,t,e):new xe(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Lo(e,t){e.tail=new xe(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function To(e,t){e.head=new xe(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function xe(e,t,r,n){if(!(this instanceof xe))return new xe(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Ao()(C)}catch{}const Co=Ro,ve=Symbol("max"),ae=Symbol("length"),Ae=Symbol("lengthCalculator"),Be=Symbol("allowStale"),be=Symbol("maxAge"),se=Symbol("dispose"),Wn=Symbol("noDisposeOnSet"),k=Symbol("lruList"),J=Symbol("cache"),qi=Symbol("updateAgeOnGet"),Kt=()=>1;class Io{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[ve]=t.max||1/0;const r=t.length||Kt;if(this[Ae]=typeof r!="function"?Kt:r,this[Be]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[be]=t.maxAge||0,this[se]=t.dispose,this[Wn]=t.noDisposeOnSet||!1,this[qi]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[ve]=t||1/0,ke(this)}get max(){return this[ve]}set allowStale(t){this[Be]=!!t}get allowStale(){return this[Be]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[be]=t,ke(this)}get maxAge(){return this[be]}set lengthCalculator(t){typeof t!="function"&&(t=Kt),t!==this[Ae]&&(this[Ae]=t,this[ae]=0,this[k].forEach(r=>{r.length=this[Ae](r.value,r.key),this[ae]+=r.length})),ke(this)}get lengthCalculator(){return this[Ae]}get length(){return this[ae]}get itemCount(){return this[k].length}rforEach(t,r){r=r||this;for(let n=this[k].tail;n!==null;){const i=n.prev;Bn(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[k].head;n!==null;){const i=n.next;Bn(this,t,n,r),n=i}}keys(){return this[k].toArray().map(t=>t.key)}values(){return this[k].toArray().map(t=>t.value)}reset(){this[se]&&this[k]&&this[k].length&&this[k].forEach(t=>this[se](t.key,t.value)),this[J]=new Map,this[k]=new Co,this[ae]=0}dump(){return this[k].map(t=>bt(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[k]}set(t,r,n){if(n=n||this[be],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Ae](r,t);if(this[J].has(t)){if(s>this[ve])return Ne(this,this[J].get(t)),!1;const l=this[J].get(t).value;return this[se]&&(this[Wn]||this[se](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[ae]+=s-l.length,l.length=s,this.get(t),ke(this),!0}const o=new Po(t,r,s,i,n);return o.length>this[ve]?(this[se]&&this[se](t,r),!1):(this[ae]+=o.length,this[k].unshift(o),this[J].set(t,this[k].head),ke(this),!0)}has(t){if(!this[J].has(t))return!1;const r=this[J].get(t).value;return!bt(this,r)}get(t){return Zt(this,t,!0)}peek(t){return Zt(this,t,!1)}pop(){const t=this[k].tail;return t?(Ne(this,t),t.value):null}del(t){Ne(this,this[J].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[J].forEach((t,r)=>Zt(this,r,!1))}}const Zt=(e,t,r)=>{const n=e[J].get(t);if(n){const i=n.value;if(bt(e,i)){if(Ne(e,n),!e[Be])return}else r&&(e[qi]&&(n.value.now=Date.now()),e[k].unshiftNode(n));return i.value}},bt=(e,t)=>{if(!t||!t.maxAge&&!e[be])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[be]&&r>e[be]},ke=e=>{if(e[ae]>e[ve])for(let t=e[k].tail;e[ae]>e[ve]&&t!==null;){const r=t.prev;Ne(e,t),t=r}},Ne=(e,t)=>{if(t){const r=t.value;e[se]&&e[se](r.key,r.value),e[ae]-=r.length,e[J].delete(r.key),e[k].removeNode(t)}};class Po{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Bn=(e,t,r,n)=>{let i=r.value;bt(e,i)&&(Ne(e,r),e[Be]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var Do=Io,Jt,Gn;function re(){if(Gn)return Jt;Gn=1;class e{constructor(g,x){if(x=n(x),g instanceof e)return g.loose===!!x.loose&&g.includePrerelease===!!x.includePrerelease?g:new e(g.raw,x);if(g instanceof i)return this.raw=g.value,this.set=[[g]],this.format(),this;if(this.options=x,this.loose=!!x.loose,this.includePrerelease=!!x.includePrerelease,this.raw=g.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(w=>this.parseRange(w.trim())).filter(w=>w.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const w=this.set[0];if(this.set=this.set.filter($=>!p($[0])),this.set.length===0)this.set=[w];else if(this.set.length>1){for(const $ of this.set)if($.length===1&&b($[0])){this.set=[$];break}}}this.format()}format(){return this.range=this.set.map(g=>g.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(g){const w=((this.options.includePrerelease&&d)|(this.options.loose&&h))+":"+g,$=r.get(w);if($)return $;const E=this.options.loose,N=E?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];g=g.replace(N,M(this.options.includePrerelease)),s("hyphen replace",g),g=g.replace(a[l.COMPARATORTRIM],u),s("comparator trim",g),g=g.replace(a[l.TILDETRIM],c),s("tilde trim",g),g=g.replace(a[l.CARETTRIM],f),s("caret trim",g);let I=g.split(" ").map(F=>S(F,this.options)).join(" ").split(/\s+/).map(F=>Ht(F,this.options));E&&(I=I.filter(F=>(s("loose invalid filter",F,this.options),!!F.match(a[l.COMPARATORLOOSE])))),s("range list",I);const T=new Map,D=I.map(F=>new i(F,this.options));for(const F of D){if(p(F))return[F];T.set(F.value,F)}T.size>1&&T.has("")&&T.delete("");const U=[...T.values()];return r.set(w,U),U}intersects(g,x){if(!(g instanceof e))throw new TypeError("a Range is required");return this.set.some(w=>m(w,x)&&g.set.some($=>m($,x)&&w.every(E=>$.every(N=>E.intersects(N,x)))))}test(g){if(!g)return!1;if(typeof g=="string")try{g=new o(g,this.options)}catch{return!1}for(let x=0;x<this.set.length;x++)if(K(this.set[x],g,this.options))return!0;return!1}}Jt=e;const t=Do,r=new t({max:1e3}),n=Vr,i=It(),s=Tt,o=W,{safeRe:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:f}=Ke,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:h}=Lt,p=y=>y.value==="<0.0.0-0",b=y=>y.value==="",m=(y,g)=>{let x=!0;const w=y.slice();let $=w.pop();for(;x&&w.length;)x=w.every(E=>$.intersects(E,g)),$=w.pop();return x},S=(y,g)=>(s("comp",y,g),y=P(y,g),s("caret",y),y=A(y,g),s("tildes",y),y=z(y,g),s("xrange",y),y=$e(y,g),s("stars",y),y),_=y=>!y||y.toLowerCase()==="x"||y==="*",A=(y,g)=>y.trim().split(/\s+/).map(x=>R(x,g)).join(" "),R=(y,g)=>{const x=g.loose?a[l.TILDELOOSE]:a[l.TILDE];return y.replace(x,(w,$,E,N,I)=>{s("tilde",y,w,$,E,N,I);let T;return _($)?T="":_(E)?T=`>=${$}.0.0 <${+$+1}.0.0-0`:_(N)?T=`>=${$}.${E}.0 <${$}.${+E+1}.0-0`:I?(s("replaceTilde pr",I),T=`>=${$}.${E}.${N}-${I} <${$}.${+E+1}.0-0`):T=`>=${$}.${E}.${N} <${$}.${+E+1}.0-0`,s("tilde return",T),T})},P=(y,g)=>y.trim().split(/\s+/).map(x=>G(x,g)).join(" "),G=(y,g)=>{s("caret",y,g);const x=g.loose?a[l.CARETLOOSE]:a[l.CARET],w=g.includePrerelease?"-0":"";return y.replace(x,($,E,N,I,T)=>{s("caret",y,$,E,N,I,T);let D;return _(E)?D="":_(N)?D=`>=${E}.0.0${w} <${+E+1}.0.0-0`:_(I)?E==="0"?D=`>=${E}.${N}.0${w} <${E}.${+N+1}.0-0`:D=`>=${E}.${N}.0${w} <${+E+1}.0.0-0`:T?(s("replaceCaret pr",T),E==="0"?N==="0"?D=`>=${E}.${N}.${I}-${T} <${E}.${N}.${+I+1}-0`:D=`>=${E}.${N}.${I}-${T} <${E}.${+N+1}.0-0`:D=`>=${E}.${N}.${I}-${T} <${+E+1}.0.0-0`):(s("no pr"),E==="0"?N==="0"?D=`>=${E}.${N}.${I}${w} <${E}.${N}.${+I+1}-0`:D=`>=${E}.${N}.${I}${w} <${E}.${+N+1}.0-0`:D=`>=${E}.${N}.${I} <${+E+1}.0.0-0`),s("caret return",D),D})},z=(y,g)=>(s("replaceXRanges",y,g),y.split(/\s+/).map(x=>H(x,g)).join(" ")),H=(y,g)=>{y=y.trim();const x=g.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return y.replace(x,(w,$,E,N,I,T)=>{s("xRange",y,w,$,E,N,I,T);const D=_(E),U=D||_(N),F=U||_(I),Fe=F;return $==="="&&Fe&&($=""),T=g.includePrerelease?"-0":"",D?$===">"||$==="<"?w="<0.0.0-0":w="*":$&&Fe?(U&&(N=0),I=0,$===">"?($=">=",U?(E=+E+1,N=0,I=0):(N=+N+1,I=0)):$==="<="&&($="<",U?E=+E+1:N=+N+1),$==="<"&&(T="-0"),w=`${$+E}.${N}.${I}${T}`):U?w=`>=${E}.0.0${T} <${+E+1}.0.0-0`:F&&(w=`>=${E}.${N}.0${T} <${E}.${+N+1}.0-0`),s("xRange return",w),w})},$e=(y,g)=>(s("replaceStars",y,g),y.trim().replace(a[l.STAR],"")),Ht=(y,g)=>(s("replaceGTE0",y,g),y.trim().replace(a[g.includePrerelease?l.GTE0PRE:l.GTE0],"")),M=y=>(g,x,w,$,E,N,I,T,D,U,F,Fe,$v)=>(_(w)?x="":_($)?x=`>=${w}.0.0${y?"-0":""}`:_(E)?x=`>=${w}.${$}.0${y?"-0":""}`:N?x=`>=${x}`:x=`>=${x}${y?"-0":""}`,_(D)?T="":_(U)?T=`<${+D+1}.0.0-0`:_(F)?T=`<${D}.${+U+1}.0-0`:Fe?T=`<=${D}.${U}.${F}-${Fe}`:y?T=`<${D}.${U}.${+F+1}-0`:T=`<=${T}`,`${x} ${T}`.trim()),K=(y,g,x)=>{for(let w=0;w<y.length;w++)if(!y[w].test(g))return!1;if(g.prerelease.length&&!x.includePrerelease){for(let w=0;w<y.length;w++)if(s(y[w].semver),y[w].semver!==i.ANY&&y[w].semver.prerelease.length>0){const $=y[w].semver;if($.major===g.major&&$.minor===g.minor&&$.patch===g.patch)return!0}return!1}return!0};return Jt}var Qt,qn;function It(){if(qn)return Qt;qn=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=r(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Qt=t;const r=Vr,{safeRe:n,t:i}=Ke,s=Gi,o=Tt,a=W,l=re();return Qt}const zo=re(),Mo=(e,t,r)=>{try{t=new zo(t,r)}catch{return!1}return t.test(e)};var Pt=Mo;const Fo=re(),ko=(e,t)=>new Fo(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var jo=ko;const Vo=W,Wo=re(),Bo=(e,t,r)=>{let n=null,i=null,s=null;try{s=new Wo(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Vo(n,r))}),n};var Go=Bo;const qo=W,Ho=re(),Uo=(e,t,r)=>{let n=null,i=null,s=null;try{s=new Ho(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new qo(n,r))}),n};var Xo=Uo;const er=W,Yo=re(),Hn=Ct,Ko=(e,t)=>{e=new Yo(e,t);let r=new er("0.0.0");if(e.test(r)||(r=new er("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const a=new er(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Hn(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Hn(r,s))&&(r=s)}return r&&e.test(r)?r:null};var Zo=Ko;const Jo=re(),Qo=(e,t)=>{try{return new Jo(e,t).range||"*"}catch{return null}};var el=Qo;const tl=W,Hi=It(),{ANY:rl}=Hi,nl=re(),il=Pt,Un=Ct,Xn=Br,sl=qr,al=Gr,ol=(e,t,r,n)=>{e=new tl(e,n),t=new nl(t,n);let i,s,o,a,l;switch(r){case">":i=Un,s=sl,o=Xn,a=">",l=">=";break;case"<":i=Xn,s=al,o=Un,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(il(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const c=t.set[u];let f=null,d=null;if(c.forEach(h=>{h.semver===rl&&(h=new Hi(">=0.0.0")),f=f||h,d=d||h,i(h.semver,f.semver,n)?f=h:o(h.semver,d.semver,n)&&(d=h)}),f.operator===a||f.operator===l||(!d.operator||d.operator===a)&&s(e,d.semver))return!1;if(d.operator===l&&o(e,d.semver))return!1}return!0};var Hr=ol;const ll=Hr,ul=(e,t,r)=>ll(e,t,">",r);var cl=ul;const fl=Hr,hl=(e,t,r)=>fl(e,t,"<",r);var dl=hl;const Yn=re(),pl=(e,t,r)=>(e=new Yn(e,r),t=new Yn(t,r),e.intersects(t,r));var ml=pl;const vl=Pt,gl=te;var yl=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((c,f)=>gl(c,f,r));for(const c of o)vl(c,t,r)?(s=c,i||(i=c)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[c,f]of n)c===f?a.push(c):!f&&c===o[0]?a.push("*"):f?c===o[0]?a.push(`<=${f}`):a.push(`${c} - ${f}`):a.push(`>=${c}`);const l=a.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return l.length<u.length?l:t};const Kn=re(),Ur=It(),{ANY:tr}=Ur,je=Pt,Xr=te,bl=(e,t,r={})=>{if(e===t)return!0;e=new Kn(e,r),t=new Kn(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=xl(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},_l=[new Ur(">=0.0.0-0")],Zn=[new Ur(">=0.0.0")],xl=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===tr){if(t.length===1&&t[0].semver===tr)return!0;r.includePrerelease?e=_l:e=Zn}if(t.length===1&&t[0].semver===tr){if(r.includePrerelease)return!0;t=Zn}const n=new Set;let i,s;for(const h of e)h.operator===">"||h.operator===">="?i=Jn(i,h,r):h.operator==="<"||h.operator==="<="?s=Qn(s,h,r):n.add(h.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Xr(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const h of n){if(i&&!je(h,String(i),r)||s&&!je(h,String(s),r))return null;for(const p of t)if(!je(h,String(p),r))return!1;return!0}let a,l,u,c,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const h of t){if(c=c||h.operator===">"||h.operator===">=",u=u||h.operator==="<"||h.operator==="<=",i){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator===">"||h.operator===">="){if(a=Jn(i,h,r),a===h&&a!==i)return!1}else if(i.operator===">="&&!je(i.semver,String(h),r))return!1}if(s){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator==="<"||h.operator==="<="){if(l=Qn(s,h,r),l===h&&l!==s)return!1}else if(s.operator==="<="&&!je(s.semver,String(h),r))return!1}if(!h.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&c&&!i&&o!==0||d||f)},Jn=(e,t,r)=>{if(!e)return t;const n=Xr(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Qn=(e,t,r)=>{if(!e)return t;const n=Xr(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var Sl=bl;const rr=Ke,ei=Lt,wl=W,ti=Vi,El=Ie,$l=wa,Ol=Oa,Al=Ra,Rl=La,Nl=Ia,Ll=za,Tl=ka,Cl=Wa,Il=te,Pl=Ha,Dl=Ya,zl=Wr,Ml=Qa,Fl=ro,kl=Ct,jl=Br,Vl=Wi,Wl=Bi,Bl=Gr,Gl=qr,ql=Gi,Hl=Oo,Ul=It(),Xl=re(),Yl=Pt,Kl=jo,Zl=Go,Jl=Xo,Ql=Zo,eu=el,tu=Hr,ru=cl,nu=dl,iu=ml,su=yl,au=Sl;var Ui={parse:El,valid:$l,clean:Ol,inc:Al,diff:Rl,major:Nl,minor:Ll,patch:Tl,prerelease:Cl,compare:Il,rcompare:Pl,compareLoose:Dl,compareBuild:zl,sort:Ml,rsort:Fl,gt:kl,lt:jl,eq:Vl,neq:Wl,gte:Bl,lte:Gl,cmp:ql,coerce:Hl,Comparator:Ul,Range:Xl,satisfies:Yl,toComparators:Kl,maxSatisfying:Zl,minSatisfying:Jl,minVersion:Ql,validRange:eu,outside:tu,gtr:ru,ltr:nu,intersects:iu,simplifyRange:su,subset:au,SemVer:wl,re:rr.re,src:rr.src,tokens:rr.t,SEMVER_SPEC_VERSION:ei.SEMVER_SPEC_VERSION,RELEASE_TYPES:ei.RELEASE_TYPES,compareIdentifiers:ti.compareIdentifiers,rcompareIdentifiers:ti.rcompareIdentifiers},ou=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black; }
  #vg-tooltip-element.visible {
    visibility: visible; }
  #vg-tooltip-element h2 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 13px; }
  #vg-tooltip-element img {
    max-width: 200px;
    max-height: 200px; }
  #vg-tooltip-element table {
    border-spacing: 0; }
    #vg-tooltip-element table tr {
      border: none; }
      #vg-tooltip-element table tr td {
        overflow: hidden;
        text-overflow: ellipsis;
        padding-top: 2px;
        padding-bottom: 2px; }
        #vg-tooltip-element table tr td.key {
          color: #808080;
          max-width: 150px;
          text-align: right;
          padding-right: 4px; }
        #vg-tooltip-element table tr td.value {
          display: block;
          max-width: 300px;
          max-height: 7em;
          text-align: left; }
  #vg-tooltip-element.dark-theme {
    background-color: rgba(32, 32, 32, 0.9);
    border: 1px solid #f5f5f5;
    color: white; }
    #vg-tooltip-element.dark-theme td.key {
      color: #bfbfbf; }
`;const Xi="vg-tooltip-element",lu={offsetX:10,offsetY:10,id:Xi,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:uu,maxDepth:2};function uu(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function cu(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return ou.toString().replace(Xi,e)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function fu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function hu(e,t,r){if(Qs(e))return`[${e.map(n=>t(yt(n)?n:ri(n,r))).join(", ")}]`;if(Tn(e)){let n="";const i=e,{title:s,image:o}=i,a=fu(i,["title","image"]);s&&(n+=`<h2>${t(s)}</h2>`),o&&(n+=`<img src="${t(o)}">`);const l=Object.keys(a);if(l.length>0){n+="<table>";for(const u of l){let c=a[u];c!==void 0&&(Tn(c)&&(c=ri(c,r)),n+=`<tr><td class="key">${t(u)}:</td><td class="value">${t(c)}</td></tr>`)}n+="</table>"}return n||"{}"}return t(e)}function du(e){const t=[];return function(r,n){if(typeof n!="object"||n===null)return n;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(n)>=0?"[Circular]":(t.push(n),n)}}function ri(e,t){return JSON.stringify(e,du(t))}function pu(e,t,r,n){let i=e.clientX+r;i+t.width>window.innerWidth&&(i=+e.clientX-r-t.width);let s=e.clientY+n;return s+t.height>window.innerHeight&&(s=+e.clientY-n-t.height),{x:i,y:s}}class mu{constructor(t){this.options=Object.assign(Object.assign({},lu),t);const r=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const n=document.createElement("style");n.setAttribute("id",this.options.styleId),n.innerHTML=cu(r);const i=document.head;i.childNodes.length>0?i.insertBefore(n,i.childNodes[0]):i.appendChild(n)}}tooltipHandler(t,r,n,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el)),(document.fullscreenElement!=null?document.fullscreenElement:document.body).appendChild(this.el),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=hu(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:a}=pu(r,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${a}px; left: ${o}px`)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function _t(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function vu(e,t,r){const n=e.open(t),i=1e4,s=250,{origin:o}=new URL(t);let a=~~(i/s);function l(c){c.source===n&&(a=0,e.removeEventListener("message",l,!1))}e.addEventListener("message",l,!1);function u(){a<=0||(n.postMessage(r,o),setTimeout(u,s),a-=1)}setTimeout(u,s)}var gu=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box; }
  .vega-embed.has-actions {
    padding-right: 38px; }
  .vega-embed details:not([open]) > :not(summary) {
    display: none !important; }
  .vega-embed summary {
    list-style: none;
    position: absolute;
    top: 0;
    right: 0;
    padding: 6px;
    z-index: 1000;
    background: white;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
    color: #1b1e23;
    border: 1px solid #aaa;
    border-radius: 999px;
    opacity: 0.2;
    transition: opacity 0.4s ease-in;
    outline: none;
    cursor: pointer;
    line-height: 0px; }
    .vega-embed summary::-webkit-details-marker {
      display: none; }
    .vega-embed summary:active {
      box-shadow: #aaa 0px 0px 0px 1px inset; }
    .vega-embed summary svg {
      width: 14px;
      height: 14px; }
  .vega-embed details[open] summary {
    opacity: 0.7; }
  .vega-embed:hover summary,
  .vega-embed:focus summary {
    opacity: 1 !important;
    transition: opacity 0.2s ease; }
  .vega-embed .vega-actions {
    position: absolute;
    z-index: 1001;
    top: 35px;
    right: -9px;
    display: flex;
    flex-direction: column;
    padding-bottom: 8px;
    padding-top: 8px;
    border-radius: 4px;
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid #d9d9d9;
    background: white;
    animation-duration: 0.15s;
    animation-name: scale-in;
    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
    text-align: left; }
    .vega-embed .vega-actions a {
      padding: 8px 16px;
      font-family: sans-serif;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      color: #434a56;
      text-decoration: none; }
      .vega-embed .vega-actions a:hover {
        background-color: #f7f7f9;
        color: black; }
    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
      content: "";
      display: inline-block;
      position: absolute; }
    .vega-embed .vega-actions::before {
      left: auto;
      right: 14px;
      top: -16px;
      border: 8px solid #0000;
      border-bottom-color: #d9d9d9; }
    .vega-embed .vega-actions::after {
      left: auto;
      right: 15px;
      top: -14px;
      border: 7px solid #0000;
      border-bottom-color: #fff; }
  .vega-embed .chart-wrapper {
    width: 100%;
    height: 100%; }

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px; }

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6); }
  to {
    opacity: 1;
    transform: scale(1); } }
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function Yi(e,...t){for(const r of t)yu(e,r);return e}function yu(e,t){for(const r of Object.keys(t))sa(e,r,t[r],!0)}var nr;const oe=ea;let Te=ta;const ct=typeof window<"u"?window:void 0;Te===void 0&&(!((nr=ct?.vl)===null||nr===void 0)&&nr.compile)&&(Te=ct.vl);const Ki={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},bu={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},We={vega:"Vega","vega-lite":"Vega-Lite"},xt={vega:oe.version,"vega-lite":Te?Te.version:"not available"},_u={vega:e=>e,"vega-lite":(e,t)=>Te.compile(e,{config:t}).spec},xu=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,Su="chart-wrapper";function wu(e){return typeof e=="function"}function ni(e,t,r,n){const i=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${r}</body></html>`,o=window.open("");o.document.write(i+e+s),o.document.title=`${We[n]} JSON Source`}function Zi(e,t){var r;if(e.$schema){const n=zi(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${We[n.library]}, but mode argument sets ${(r=We[t])!==null&&r!==void 0?r:t}.`);const i=n.library;return Ui.satisfies(xt[i],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${We[i]} ${n.version}, but the current version of ${We[i]} is v${xt[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function Eu(e){return!!(e&&"load"in e)}function ii(e){return Eu(e)?e:oe.loader(e)}function si(e){var t;return(t=e.usermeta&&e.usermeta.embedOptions)!==null&&t!==void 0?t:{}}function $u(e,t,r={}){var n,i,s;return _t(this,void 0,void 0,function*(){let o,a;yt(t)?(a=ii(r.loader),o=JSON.parse(yield a.load(t))):o=t;const l=si(o).loader;(!a||l)&&(a=ii((n=r.loader)!==null&&n!==void 0?n:l));const u=yield ai(si(o),a),c=yield ai(r,a),f=Object.assign(Object.assign({},Yi(c,u)),{config:Mi((i=c.config)!==null&&i!==void 0?i:{},(s=u.config)!==null&&s!==void 0?s:{})});return yield Au(e,o,f,a)})}function ai(e,t){var r;return _t(this,void 0,void 0,function*(){const n=yt(e.config)?JSON.parse(yield t.load(e.config)):(r=e.config)!==null&&r!==void 0?r:{},i=yt(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),i?{patch:i}:{}),n?{config:n}:{})})}function Ou(e){var t;const r=e.getRootNode?e.getRootNode():document;return r instanceof ShadowRoot?{root:r,rootContainer:r}:{root:document,rootContainer:(t=document.head)!==null&&t!==void 0?t:document.body}}function Au(e,t,r={},n){var i,s,o,a,l,u;return _t(this,void 0,void 0,function*(){const c=r.theme?Mi(ra[r.theme],(i=r.config)!==null&&i!==void 0?i:{}):r.config,f=na(r.actions)?r.actions:Yi({},Ki,(s=r.actions)!==null&&s!==void 0?s:{}),d=Object.assign(Object.assign({},bu),r.i18n),h=(o=r.renderer)!==null&&o!==void 0?o:"canvas",p=(a=r.logLevel)!==null&&a!==void 0?a:oe.Warn,b=(l=r.downloadFileName)!==null&&l!==void 0?l:"visualization",m=typeof e=="string"?document.querySelector(e):e;if(!m)throw new Error(`${e} does not exist`);if(r.defaultStyle!==!1){const M="vega-embed-style",{root:K,rootContainer:y}=Ou(m);if(!K.getElementById(M)){const g=document.createElement("style");g.id=M,g.innerText=r.defaultStyle===void 0||r.defaultStyle===!0?gu.toString():r.defaultStyle,y.appendChild(g)}}const S=Zi(t,r.mode);let _=_u[S](t,c);if(S==="vega-lite"&&_.$schema){const M=zi(_.$schema);Ui.satisfies(xt.vega,`^${M.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${M.version}, but current version is v${xt.vega}.`)}m.classList.add("vega-embed"),f&&m.classList.add("has-actions"),m.innerHTML="";let A=m;if(f){const M=document.createElement("div");M.classList.add(Su),m.appendChild(M),A=M}const R=r.patch;R&&(R instanceof Function?_=R(_):_=ia(_,R,!0,!1).newDocument),r.formatLocale&&oe.formatLocale(r.formatLocale),r.timeFormatLocale&&oe.timeFormatLocale(r.timeFormatLocale);const{ast:P}=r,G=oe.parse(_,S==="vega-lite"?{}:c,{ast:P}),z=new(r.viewClass||oe.View)(G,Object.assign({loader:n,logLevel:p,renderer:h},P?{expr:oe.expressionInterpreter}:{}));if(r.tooltip!==!1){let M;wu(r.tooltip)?M=r.tooltip:M=new mu(r.tooltip===!0?{}:r.tooltip).call,z.tooltip(M)}let{hover:H}=r;if(H===void 0&&(H=S==="vega"),H){const{hoverSet:M,updateSet:K}=typeof H=="boolean"?{}:H;z.hover(M,K)}r&&(r.width!=null&&z.width(r.width),r.height!=null&&z.height(r.height),r.padding!=null&&z.padding(r.padding)),yield z.initialize(A,r.bind).runAsync();let $e;if(f!==!1){let M=m;if(r.defaultStyle!==!1){const y=document.createElement("details");y.title=d.CLICK_TO_VIEW_ACTIONS,m.append(y),M=y;const g=document.createElement("summary");g.innerHTML=xu,y.append(g),$e=x=>{y.contains(x.target)||y.removeAttribute("open")},document.addEventListener("click",$e)}const K=document.createElement("div");if(M.append(K),K.classList.add("vega-actions"),f===!0||f.export!==!1){for(const y of["svg","png"])if(f===!0||f.export===!0||f.export[y]){const g=d[`${y.toUpperCase()}_ACTION`],x=document.createElement("a");x.text=g,x.href="#",x.target="_blank",x.download=`${b}.${y}`,x.addEventListener("mousedown",function(w){return _t(this,void 0,void 0,function*(){w.preventDefault();const $=yield z.toImageURL(y,r.scaleFactor);this.href=$})}),K.append(x)}}if(f===!0||f.source!==!1){const y=document.createElement("a");y.text=d.SOURCE_ACTION,y.href="#",y.addEventListener("click",function(g){var x,w;ni(Ut(t),(x=r.sourceHeader)!==null&&x!==void 0?x:"",(w=r.sourceFooter)!==null&&w!==void 0?w:"",S),g.preventDefault()}),K.append(y)}if(S==="vega-lite"&&(f===!0||f.compiled!==!1)){const y=document.createElement("a");y.text=d.COMPILED_ACTION,y.href="#",y.addEventListener("click",function(g){var x,w;ni(Ut(_),(x=r.sourceHeader)!==null&&x!==void 0?x:"",(w=r.sourceFooter)!==null&&w!==void 0?w:"","vega"),g.preventDefault()}),K.append(y)}if(f===!0||f.editor!==!1){const y=(u=r.editorUrl)!==null&&u!==void 0?u:"https://vega.github.io/editor/",g=document.createElement("a");g.text=d.EDITOR_ACTION,g.href="#",g.addEventListener("click",function(x){vu(window,y,{config:c,mode:S,renderer:h,spec:Ut(t)}),x.preventDefault()}),K.append(g)}}function Ht(){$e&&document.removeEventListener("click",$e),z.finalize()}return{view:z,spec:t,vgSpec:_,finalize:Ht}})}const Ru=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_ACTIONS:Ki,default:$u,guessMode:Zi,vega:oe,get vegaLite(){return Te}},Symbol.toStringTag,{value:"Module"})),Pe=Ce(Ru);var Z={},v={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var oi=Object.getOwnPropertySymbols,Nu=Object.prototype.hasOwnProperty,Lu=Object.prototype.propertyIsEnumerable;function Tu(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Cu(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Yr=Cu()?Object.assign:function(e,t){for(var r,n=Tu(e),i,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var o in r)Nu.call(r,o)&&(n[o]=r[o]);if(oi){i=oi(r);for(var a=0;a<i.length;a++)Lu.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n},Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.StyleSheet=Ji;var Iu=Yr,Pu=Du(Iu);function Du(e){return e&&e.__esModule?e:{default:e}}function zu(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}function ir(e){return e[e.length-1]}function li(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}var ge=typeof window<"u",Mu=!1,Fu=function(){if(ge){var e=document.createElement("div");return e.innerHTML="<!--[if lt IE 10]><i></i><![endif]-->",e.getElementsByTagName("i").length===1}}();function ui(){var e=document.createElement("style");return e.type="text/css",e.setAttribute("data-glamor",""),e.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(e),e}function Ji(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.speedy,r=t===void 0?!Mu:t,n=e.maxLength,i=n===void 0?ge&&Fu?4e3:65e3:n;this.isSpeedy=r,this.sheet=void 0,this.tags=[],this.maxLength=i,this.ctr=0}(0,Pu.default)(Ji.prototype,{getSheet:function(){return li(ir(this.tags))},inject:function(){var t=this;if(this.injected)throw new Error("already injected stylesheet!");ge?this.tags[0]=ui():this.sheet={cssRules:[],insertRule:function(n){t.sheet.cssRules.push({cssText:n})}},this.injected=!0},speedy:function(t){if(this.ctr!==0)throw new Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy("+t+") earlier in your app, or call flush() before speedy("+t+")");this.isSpeedy=!!t},_insert:function(t){try{var r=this.getSheet();r.insertRule(t,t.indexOf("@import")!==-1?0:r.cssRules.length)}catch{}},insert:function(t){if(ge)if(this.isSpeedy&&this.getSheet().insertRule)this._insert(t);else if(t.indexOf("@import")!==-1){var r=ir(this.tags);r.insertBefore(document.createTextNode(t),r.firstChild)}else ir(this.tags).appendChild(document.createTextNode(t));else this.sheet.insertRule(t,t.indexOf("@import")!==-1?0:this.sheet.cssRules.length);return this.ctr++,ge&&this.ctr%this.maxLength===0&&this.tags.push(ui()),this.ctr-1},delete:function(t){return this.replace(t,"")},flush:function(){ge?(this.tags.forEach(function(t){return t.parentNode.removeChild(t)}),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1},rules:function(){if(!ge)return this.sheet.cssRules;var t=[];return this.tags.forEach(function(r){return t.splice.apply(t,[t.length,0].concat(zu(Array.from(li(r).cssRules))))}),t}});var De={},ku=/-(.)/g;function ju(e){return e.replace(ku,function(t,r){return r.toUpperCase()})}var Vu=ju,Wu=Vu,Bu=/^-ms-/;function Gu(e){return Wu(e.replace(Bu,"ms-"))}var qu=Gu,Zr={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});var vt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function Hu(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var Uu=["Webkit","ms","Moz","O"];Object.keys(vt).forEach(function(e){Uu.forEach(function(t){vt[Hu(t,e)]=vt[e]})});var Xu={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},Yu={isUnitlessNumber:vt,shorthandPropertyExpansions:Xu};Jr.default=Yu;function Dt(e){return function(){return e}}var Ee=function(){};Ee.thatReturns=Dt;Ee.thatReturnsFalse=Dt(!1);Ee.thatReturnsTrue=Dt(!0);Ee.thatReturnsNull=Dt(null);Ee.thatReturnsThis=function(){return this};Ee.thatReturnsArgument=function(e){return e};var Ku=Ee,Zu=Ku,Ju=Zu,Qi=Ju;Object.defineProperty(Zr,"__esModule",{value:!0});var Qu=Jr,ec=es(Qu),tc=Qi;es(tc);function es(e){return e&&e.__esModule?e:{default:e}}var ci=ec.default.isUnitlessNumber;function rc(e,t,r){var n=t==null||typeof t=="boolean"||t==="";if(n)return"";var i=isNaN(t);return i||t===0||ci.hasOwnProperty(e)&&ci[e]?""+t:(typeof t=="string"&&(t=t.trim()),t+"px")}Zr.default=rc;var nc=/([A-Z])/g;function ic(e){return e.replace(nc,"-$1").toLowerCase()}var sc=ic,ac=sc,oc=/^ms-/;function lc(e){return ac(e).replace(oc,"-ms-")}var uc=lc;function cc(e){var t={};return function(r){return t.hasOwnProperty(r)||(t[r]=e.call(this,r)),t[r]}}var fc=cc;Object.defineProperty(De,"__esModule",{value:!0});De.processStyleName=void 0;De.createMarkupForStyles=xc;var hc=qu;Ze(hc);var dc=Zr,pc=Ze(dc),mc=uc,vc=Ze(mc),gc=fc,yc=Ze(gc),bc=Qi;Ze(bc);function Ze(e){return e&&e.__esModule?e:{default:e}}var _c=De.processStyleName=(0,yc.default)(vc.default);function xc(e,t){var r="";for(var n in e){var i=n.indexOf("--")===0;if(e.hasOwnProperty(n)&&n!=="label"){var s=e[n];s!=null&&(i?r+=n+":"+s+";":(r+=_c(n)+":",r+=(0,pc.default)(n,s,t)+";"))}}return r||null}var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});var ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Qr.default=en;function Sc(e){return e==null||e===!1||(typeof e>"u"?"undefined":ts(e))==="object"&&Object.keys(e).length===0}function wc(e){if(Sc(e))return null;if((typeof e>"u"?"undefined":ts(e))!=="object")return e;for(var t={},r=Object.keys(e),n=!1,i=0;i<r.length;i++){var s=e[r[i]],o=en(s);(o===null||o!==s)&&(n=!0),o!==null&&(t[r[i]]=o)}return Object.keys(t).length===0?null:n?t:e}function Ec(e){var t=!1,r=[];return e.forEach(function(n){var i=en(n);(i===null||i!==n)&&(t=!0),i!==null&&r.push(i)}),r.length==0?null:t?r:e}function en(e){return Array.isArray(e)?Ec(e):wc(e)}var ze={},tn={},hr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=["Webkit"],n=["Moz"],i=["ms"],s=["Webkit","Moz"],o=["Webkit","ms"],a=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:s,userSelect:a,textEmphasisPosition:r,textEmphasis:r,textEmphasisStyle:r,textEmphasisColor:r,boxDecorationBreak:r,clipPath:r,maskImage:r,maskMode:r,maskRepeat:r,maskPosition:r,maskClip:r,maskOrigin:r,maskSize:r,maskComposite:r,mask:r,maskBorderSource:r,maskBorderMode:r,maskBorderSlice:r,maskBorderWidth:r,maskBorderOutset:r,maskBorderRepeat:r,maskBorder:r,maskType:r,textDecorationStyle:r,textDecorationSkip:r,textDecorationLine:r,textDecorationColor:r,filter:r,fontFeatureSettings:r,breakAfter:a,breakBefore:a,breakInside:a,columnCount:s,columnFill:s,columnGap:s,columnRule:s,columnRuleColor:s,columnRuleStyle:s,columnRuleWidth:s,columns:s,columnSpan:s,columnWidth:s,writingMode:o,flex:r,flexBasis:r,flexDirection:r,flexGrow:r,flexFlow:r,flexShrink:r,flexWrap:r,alignContent:r,alignItems:r,alignSelf:r,justifyContent:r,order:r,transform:r,transformOrigin:r,transformOriginX:r,transformOriginY:r,backfaceVisibility:r,perspective:r,perspectiveOrigin:r,transformStyle:r,transformOriginZ:r,animation:r,animationDelay:r,animationDirection:r,animationFillMode:r,animationDuration:r,animationIterationCount:r,animationName:r,animationPlayState:r,animationTimingFunction:r,backdropFilter:r,fontKerning:r,scrollSnapType:o,scrollSnapPointsX:o,scrollSnapPointsY:o,scrollSnapDestination:o,scrollSnapCoordinate:o,shapeImageThreshold:r,shapeImageMargin:r,shapeImageOutside:r,hyphens:a,flowInto:o,flowFrom:o,regionFragment:o,textAlignLast:n,tabSize:n,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:o,borderImage:r,borderImageOutset:r,borderImageRepeat:r,borderImageSlice:r,borderImageSource:r,borderImageWidth:r,transitionDelay:r,transitionDuration:r,transitionProperty:r,transitionTimingFunction:r}},e.exports=t.default})(hr,hr.exports);var $c=hr.exports,dr={exports:{}},pr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return n.charAt(0).toUpperCase()+n.slice(1)}e.exports=t.default})(pr,pr.exports);var rs=pr.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=rs,n=i(r);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,a,l){if(o.hasOwnProperty(a))for(var u=o[a],c=0,f=u.length;c<f;++c)l[u[c]+(0,n.default)(a)]=l[a]}e.exports=t.default})(dr,dr.exports);var Oc=dr.exports,mr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,i,s,o,a){for(var l=0,u=n.length;l<u;++l){var c=n[l](i,s,o,a);if(c)return c}}e.exports=t.default})(mr,mr.exports);var Ac=mr.exports,vr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=["-webkit-","-moz-",""],n={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function i(s,o){if(s==="cursor"&&n.hasOwnProperty(o))return r.map(function(a){return a+o})}e.exports=t.default})(vr,vr.exports);var Rc=vr.exports,gr={exports:{}},yr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=/-webkit-|-moz-|-ms-/;function n(i){return typeof i=="string"&&r.test(i)}e.exports=t.default})(yr,yr.exports);var Je=yr.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=Je,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}var s=["-webkit-",""];function o(a,l){if(typeof l=="string"&&!(0,n.default)(l)&&l.indexOf("cross-fade(")>-1)return s.map(function(u){return l.replace(/cross-fade\(/g,u+"cross-fade(")})}e.exports=t.default})(gr,gr.exports);var Nc=gr.exports,br={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=Je,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}var s=["-webkit-",""];function o(a,l){if(typeof l=="string"&&!(0,n.default)(l)&&l.indexOf("filter(")>-1)return s.map(function(u){return l.replace(/filter\(/g,u+"filter(")})}e.exports=t.default})(br,br.exports);var Lc=br.exports,_r={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};function n(i,s){if(i==="display"&&r.hasOwnProperty(s))return r[s]}e.exports=t.default})(_r,_r.exports);var Tc=_r.exports,xr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},n={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};function i(s,o,a){s==="flexDirection"&&typeof o=="string"&&(o.indexOf("column")>-1?a.WebkitBoxOrient="vertical":a.WebkitBoxOrient="horizontal",o.indexOf("reverse")>-1?a.WebkitBoxDirection="reverse":a.WebkitBoxDirection="normal"),n.hasOwnProperty(s)&&(a[n[s]]=r[o]||o)}e.exports=t.default})(xr,xr.exports);var Cc=xr.exports,Sr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=Je,n=i(r);function i(l){return l&&l.__esModule?l:{default:l}}var s=["-webkit-","-moz-",""],o=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;function a(l,u){if(typeof u=="string"&&!(0,n.default)(u)&&o.test(u))return s.map(function(c){return c+u})}e.exports=t.default})(Sr,Sr.exports);var Ic=Sr.exports,wr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=Je,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}var s=["-webkit-",""];function o(a,l){if(typeof l=="string"&&!(0,n.default)(l)&&l.indexOf("image-set(")>-1)return s.map(function(u){return l.replace(/image-set\(/g,u+"image-set(")})}e.exports=t.default})(wr,wr.exports);var Pc=wr.exports,Er={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,i){if(n==="position"&&i==="sticky")return["-webkit-sticky","sticky"]}e.exports=t.default})(Er,Er.exports);var Dc=Er.exports,$r={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=["-webkit-","-moz-",""],n={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function s(o,a){if(n.hasOwnProperty(o)&&i.hasOwnProperty(a))return r.map(function(l){return l+a})}e.exports=t.default})($r,$r.exports);var zc=$r.exports,Or={exports:{}},Ar={exports:{}},Mc=/[A-Z]/g,Fc=/^ms-/,sr={};function kc(e){return"-"+e.toLowerCase()}function jc(e){if(sr.hasOwnProperty(e))return sr[e];var t=e.replace(Mc,kc);return sr[e]=Fc.test(t)?"-"+t:t}const Vc=Object.freeze(Object.defineProperty({__proto__:null,default:jc},Symbol.toStringTag,{value:"Module"})),Wc=Ce(Vc);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=Wc,n=i(r);function i(o){return o&&o.__esModule?o:{default:o}}function s(o){return(0,n.default)(o)}e.exports=t.default})(Ar,Ar.exports);var Bc=Ar.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=Bc,n=l(r),i=Je,s=l(i),o=rs,a=l(o);function l(h){return h&&h.__esModule?h:{default:h}}var u={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},c={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function f(h,p){if((0,s.default)(h))return h;for(var b=h.split(/,(?![^()]*(?:\([^()]*\))?\))/g),m=0,S=b.length;m<S;++m){var _=b[m],A=[_];for(var R in p){var P=(0,n.default)(R);if(_.indexOf(P)>-1&&P!=="order")for(var G=p[R],z=0,H=G.length;z<H;++z)A.unshift(_.replace(P,c[G[z]]+P))}b[m]=A.join(",")}return b.join(",")}function d(h,p,b,m){if(typeof p=="string"&&u.hasOwnProperty(h)){var S=f(p,m),_=S.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(R){return!/-moz-|-ms-/.test(R)}).join(",");if(h.indexOf("Webkit")>-1)return _;var A=S.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(R){return!/-webkit-|-ms-/.test(R)}).join(",");return h.indexOf("Moz")>-1?A:(b["Webkit"+(0,a.default)(h)]=_,b["Moz"+(0,a.default)(h)]=A,S)}}e.exports=t.default})(Or,Or.exports);var Gc=Or.exports;Object.defineProperty(tn,"__esModule",{value:!0});tn.default=bf;var qc=$c,Hc=Y(qc),Uc=Oc,Xc=Y(Uc),Yc=Ac,Kc=Y(Yc),Zc=Rc,Jc=Y(Zc),Qc=Nc,ef=Y(Qc),tf=Lc,rf=Y(tf),nf=Tc,sf=Y(nf),af=Cc,of=Y(af),lf=Ic,uf=Y(lf),cf=Pc,ff=Y(cf),hf=Dc,df=Y(hf),pf=zc,mf=Y(pf),vf=Gc,gf=Y(vf);function Y(e){return e&&e.__esModule?e:{default:e}}var yf=[ef.default,Jc.default,rf.default,of.default,uf.default,ff.default,df.default,mf.default,gf.default,sf.default],fi=Hc.default.prefixMap;function bf(e){for(var t in e){var r=e[t],n=(0,Kc.default)(yf,t,r,e,fi);n&&(e[t]=n),(0,Xc.default)(fi,t,e)}return e}Object.defineProperty(ze,"__esModule",{value:!0});var Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};ze.PluginSet=is;ze.fallbacks=$f;ze.contentWrap=Af;ze.prefixes=Rf;var _f=Yr,rn=ns(_f),xf=De,Sf=tn,wf=ns(Sf);function ns(e){return e&&e.__esModule?e:{default:e}}var Ef=function(e){return e==="development"||!e}("production");function is(e){this.fns=e||[]}(0,rn.default)(is.prototype,{add:function(){for(var t=this,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];n.forEach(function(s){t.fns.indexOf(s)>=0?Ef&&console.warn("adding the same plugin again, ignoring"):t.fns=[s].concat(t.fns)})},remove:function(t){this.fns=this.fns.filter(function(r){return r!==t})},clear:function(){this.fns=[]},transform:function(t){return this.fns.reduce(function(r,n){return n(r)},t)}});function $f(e){var t=Object.keys(e.style).map(function(i){return Array.isArray(e.style[i])}).indexOf(!0)>=0;if(t){var r=e.style,n=Object.keys(r).reduce(function(i,s){return i[s]=Array.isArray(r[s])?r[s].join("; "+(0,xf.processStyleName)(s)+": "):r[s],i},{});return(0,rn.default)({},e,{style:n})}return e}var Of=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"];function Af(e){if(e.style.content){var t=e.style.content;return Of.indexOf(t)>=0||/^(attr|calc|counters?|url)\(/.test(t)||t.charAt(0)===t.charAt(t.length-1)&&(t.charAt(0)==='"'||t.charAt(0)==="'")?e:Rr({},e,{style:Rr({},e.style,{content:'"'+t+'"'})})}return e}function Rf(e){return(0,rn.default)({},e,{style:(0,wf.default)(Rr({},e.style))})}var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.default=Nf;function Nf(e,t){for(var r=1540483477,n=24,i=t^e.length,s=e.length,o=0;s>=4;){var a=Lf(e,o);a=me(a,r),a^=a>>>n,a=me(a,r),i=me(i,r),i^=a,o+=4,s-=4}switch(s){case 3:i^=hi(e,o),i^=e.charCodeAt(o+2)<<16,i=me(i,r);break;case 2:i^=hi(e,o),i=me(i,r);break;case 1:i^=e.charCodeAt(o),i=me(i,r);break}return i^=i>>>13,i=me(i,r),i^=i>>>15,i>>>0}function Lf(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)+(e.charCodeAt(t++)<<16)+(e.charCodeAt(t)<<24)}function hi(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)}function me(e,t){e=e|0,t=t|0;var r=e&65535,n=e>>>16,i=r*t+((n*t&65535)<<16)|0;return i}Object.defineProperty(v,"__esModule",{value:!0});v.compose=v.merge=v.$=v.style=v.presets=v.keyframes=v.fontFace=v.insertGlobal=v.insertRule=v.plugins=v.styleSheet=void 0;v.speedy=Mf;v.simulations=Ff;v.simulate=kf;v.cssLabels=jf;v.isLikeRule=un;v.idFor=cn;v.css=j;v.rehydrate=eh;v.flush=th;v.select=fn;v.parent=nh;v.media=ih;v.pseudo=O;v.active=sh;v.any=ah;v.checked=oh;v.disabled=lh;v.empty=uh;v.enabled=ch;v._default=fh;v.first=hh;v.firstChild=dh;v.firstOfType=ph;v.fullscreen=mh;v.focus=vh;v.hover=gh;v.indeterminate=yh;v.inRange=bh;v.invalid=_h;v.lastChild=xh;v.lastOfType=Sh;v.left=wh;v.link=Eh;v.onlyChild=$h;v.onlyOfType=Oh;v.optional=Ah;v.outOfRange=Rh;v.readOnly=Nh;v.readWrite=Lh;v.required=Th;v.right=Ch;v.root=Ih;v.scope=Ph;v.target=Dh;v.valid=zh;v.visited=Mh;v.dir=Fh;v.lang=kh;v.not=jh;v.nthChild=Vh;v.nthLastChild=Wh;v.nthLastOfType=Bh;v.nthOfType=Gh;v.after=qh;v.before=Hh;v.firstLetter=Uh;v.firstLine=Xh;v.selection=Yh;v.backdrop=Kh;v.placeholder=Zh;v.cssFor=Jh;v.attribsFor=Qh;var Tf=Yr,Cf=an(Tf),If=Kr,sn=De,Pf=Qr,pe=an(Pf),le=ze,Df=nn,zf=an(Df);function an(e){return e&&e.__esModule?e:{default:e}}function Qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=v.styleSheet=new If.StyleSheet;X.inject();function Mf(e){return X.speedy(e)}var et=v.plugins=X.plugins=new le.PluginSet([le.prefixes,le.contentWrap,le.fallbacks]);et.media=new le.PluginSet;et.fontFace=new le.PluginSet;et.keyframes=new le.PluginSet([le.prefixes,le.fallbacks]);var on=!1,zt=typeof window<"u",ln=on,di=!1,pi=!1;function Ff(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;ln=!!e}function kf(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=(0,pe.default)(t),t?ln?t.reduce(function(n,i){return n["data-simulate-"+St(i)]="",n},{}):(di||(console.warn("can't simulate without once calling simulations(true)"),di=!0),pi||(console.warn("don't use simulation outside dev"),pi=!0),{}):{}}var tt=on;function jf(e){tt=!!e}function St(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.toLowerCase().replace(/[^a-z0-9]/g,t)}function rt(e){var t=JSON.stringify(e),r=(0,zf.default)(t).toString(36);return e.label&&e.label.length>0&&on?St(e.label.join("."),"-")+"-"+r:r}function un(e){var t=Object.keys(e).filter(function(r){return r!=="toString"});return t.length!==1?!1:!!/data\-css\-([a-zA-Z0-9\-_]+)/.exec(t[0])}function cn(e){var t=Object.keys(e).filter(function(i){return i!=="toString"});if(t.length!==1)throw new Error("not a rule");var r=/data\-css\-([a-zA-Z0-9\-_]+)/,n=r.exec(t[0]);if(!n)throw new Error("not a rule");return n[1]}var Vf=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function Nr(e){if(e.indexOf(",")===-1)return[e];for(var t=[],r=[],n=0,i;i=Vf.exec(e);)switch(i[0]){case"(":n++;break;case")":n--;break;case",":if(n)break;t.push(i.index)}for(i=t.length;i--;)r.unshift(e.slice(t[i]+1)),e=e.slice(0,t[i]);return r.unshift(e),r}function mi(e,t){if(!e)return t.replace(/\&/g,"");if(!t)return".css-"+e+",[data-css-"+e+"]";var r=Nr(t).map(function(n){return n.indexOf("&")>=0?[n.replace(/\&/mg,".css-"+e),n.replace(/\&/mg,"[data-css-"+e+"]")].join(","):".css-"+e+n+",[data-css-"+e+"]"+n}).join(",");return ln&&/^\&\:/.exec(t)&&!/\s/.exec(t)&&(r+=",.css-"+e+"[data-simulate-"+St(t)+"],[data-css-"+e+"][data-simulate-"+St(t)+"]"),r}function Lr(e){var t=e.selector,r=e.style,n=et.transform({selector:t,style:r});return n.selector+"{"+(0,sn.createMarkupForStyles)(n.style)+"}"}function wt(e){var t=void 0,r=void 0,n=void 0,i=void 0;return Object.keys(e).forEach(function(s){s.indexOf("&")>=0?(r=r||{},r[s]=e[s]):s.indexOf("@media")===0?(n=n||{},n[s]=wt(e[s])):s.indexOf("@supports")===0?(i=i||{},i[s]=wt(e[s])):s==="label"?e.label.length>0&&(t=t||{},t.label=tt?e.label.join("."):""):(t=t||{},t[s]=e[s])}),{plain:t,selects:r,medias:n,supports:i}}function Et(e,t){var r=[],n=t.plain,i=t.selects,s=t.medias,o=t.supports;return n&&r.push(Lr({style:n,selector:mi(e)})),i&&Object.keys(i).forEach(function(a){return r.push(Lr({style:i[a],selector:mi(e,a)}))}),s&&Object.keys(s).forEach(function(a){return r.push(a+"{"+Et(e,s[a]).join("")+"}")}),o&&Object.keys(o).forEach(function(a){return r.push(a+"{"+Et(e,o[a]).join("")+"}")}),r}var ee=X.inserted={};function Wf(e){if(!ee[e.id]){ee[e.id]=!0;var t=wt(e.style),r=Et(e.id,t);ee[e.id]=zt?!0:r,r.forEach(function(n){return X.insert(n)})}}var He=X.registered={};function Mt(e){He[e.id]||(He[e.id]=e)}function Bf(e){if(un(e)){var t=He[cn(e)];if(t==null)throw new Error("[glamor] an unexpected rule cache miss occurred. This is probably a sign of multiple glamor instances in your app. See https://github.com/threepointone/glamor/issues/79");return t}return e}var gt={};function Gf(e){if(Mt(e),Wf(e),gt[e.id])return gt[e.id];var t=Qe({},"data-css-"+e.id,tt&&e.label||"");return Object.defineProperty(t,"toString",{enumerable:!1,value:function(){return"css-"+e.id}}),gt[e.id]=t,t}function qf(e){for(var t=[":",".","[",">"," "],r=!1,n=e.charAt(0),i=0;i<t.length;i++)if(n===t[i]){r=!0;break}return r||e.indexOf("&")>=0}function vi(e,t){var r=Nr(e).map(function(i){return i.indexOf("&")>=0?i:"&"+i}),n=Nr(t).map(function(i){return i.indexOf("&")>=0?i:"&"+i});return n.reduce(function(i,s){return i.concat(r.map(function(o){return s.replace(/\&/g,o)}))},[]).join(",")}function Hf(e,t){return e?"@media "+e.substring(6)+" and "+t.substring(6):t}function Uf(e){return e.indexOf("@media")===0}function Xf(e){return e.indexOf("@supports")===0}function Yf(e,t){return e?"@supports "+e.substring(9)+" and "+t.substring(9):t}function ss(e){for(var t=[],r=0;r<e.length;r++)Array.isArray(e[r])?t=t.concat(ss(e[r])):t=t.concat(e[r]);return t}var gi={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]};function ye(e,t){var r=t.selector,n=r===void 0?"":r,i=t.mq,s=i===void 0?"":i,o=t.supp,a=o===void 0?"":o,l=t.src,u=l===void 0?{}:l;Array.isArray(u)||(u=[u]),u=ss(u),u.forEach(function(c){if(un(c)){var f=Bf(c);if(f.type!=="css")throw new Error("cannot merge this rule");c=f.style}c=(0,pe.default)(c),c&&c.composes&&ye(e,{selector:n,mq:s,supp:a,src:c.composes}),Object.keys(c||{}).forEach(function(d){if(qf(d))gi[d]&&gi[d].forEach(function(p){return ye(e,{selector:vi(n,p),mq:s,supp:a,src:c[d]})}),ye(e,{selector:vi(n,d),mq:s,supp:a,src:c[d]});else if(Uf(d))ye(e,{selector:n,mq:Hf(s,d),supp:a,src:c[d]});else if(Xf(d))ye(e,{selector:n,mq:s,supp:Yf(a,d),src:c[d]});else if(d!=="composes"){var h=e;a&&(h[a]=h[a]||{},h=h[a]),s&&(h[s]=h[s]||{},h=h[s]),n&&(h[n]=h[n]||{},h=h[n]),d==="label"?tt&&(e.label=e.label.concat(c.label)):h[d]=c[d]}})})}function yi(e){var t={label:[]};ye(t,{src:e});var r={id:rt(t),style:t,label:tt?t.label.join("."):"",type:"css"};return Gf(r)}var $t={};Object.defineProperty($t,"toString",{enumerable:!1,value:function(){return"css-nil"}});var ft=typeof WeakMap<"u"?[$t,new WeakMap,new WeakMap,new WeakMap]:[$t];function Kf(e){return function(t){if(ft[t.length]){for(var r=ft[t.length],n=0;n<t.length-1;)r.has(t[n])||r.set(t[n],new WeakMap),r=r.get(t[n]),n++;if(r.has(t[t.length-1])){var i=r.get(t[n]);if(He[i.toString().substring(4)])return i}}var s=e(t);if(ft[t.length]){for(var o=0,a=ft[t.length];o<t.length-1;)a=a.get(t[o]),o++;try{a.set(t[o],s)}catch{}}return s}}var Zf=typeof WeakMap<"u"?Kf(yi):yi;function j(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t[0]&&t[0].length&&t[0].raw)throw new Error("you forgot to include glamor/babel in your babel plugins.");return t=(0,pe.default)(t),t?Zf(t):$t}j.insert=function(e){var t={id:rt(e),css:e,type:"raw"};Mt(t),ee[t.id]||(X.insert(t.css),ee[t.id]=zt?!0:[t.css])};v.insertRule=j.insert;j.global=function(e,t){if(t=(0,pe.default)(t),t)return j.insert(Lr({selector:e,style:t}))};v.insertGlobal=j.global;function Jf(e){if(!ee[e.id]){var t=Object.keys(e.keyframes).map(function(n){var i=et.keyframes.transform({id:e.id,name:n,style:e.keyframes[n]});return i.name+"{"+(0,sn.createMarkupForStyles)(i.style)+"}"}).join(""),r=["-webkit-","-moz-","-o-",""].map(function(n){return"@"+n+"keyframes "+(e.name+"_"+e.id)+"{"+t+"}"});r.forEach(function(n){return X.insert(n)}),ee[e.id]=zt?!0:r}}j.keyframes=function(e,t){t||(t=e,e="animation"),t=(0,pe.default)(t)||{};var r={id:rt({name:e,kfs:t}),type:"keyframes",name:e,keyframes:t};return Mt(r),Jf(r),e+"_"+r.id};j.fontFace=function(e){e=(0,pe.default)(e);var t={id:rt(e),type:"font-face",font:e};return Mt(t),Qf(t),e.fontFamily};v.fontFace=j.fontFace;v.keyframes=j.keyframes;function Qf(e){if(!ee[e.id]){var t="@font-face{"+(0,sn.createMarkupForStyles)(e.font)+"}";X.insert(t),ee[e.id]=zt?!0:[t]}}function eh(e){(0,Cf.default)(ee,e.reduce(function(t,r){return t[r]=!0,t},{}))}function th(){ee=X.inserted={},He=X.registered={},gt={},X.flush(),X.inject()}v.presets={mobile:"(min-width: 400px)",Mobile:"@media (min-width: 400px)",phablet:"(min-width: 550px)",Phablet:"@media (min-width: 550px)",tablet:"(min-width: 750px)",Tablet:"@media (min-width: 750px)",desktop:"(min-width: 1000px)",Desktop:"@media (min-width: 1000px)",hd:"(min-width: 1200px)",Hd:"@media (min-width: 1200px)"};var rh=v.style=j;function fn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e?j(Qe({},e,r)):rh(r)}v.$=fn;function nh(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return j(Qe({},e+" &",r))}v.merge=j;v.compose=j;function ih(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return j(Qe({},"@media "+e,r))}function O(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return j(Qe({},e,r))}function sh(e){return O(":active",e)}function ah(e){return O(":any",e)}function oh(e){return O(":checked",e)}function lh(e){return O(":disabled",e)}function uh(e){return O(":empty",e)}function ch(e){return O(":enabled",e)}function fh(e){return O(":default",e)}function hh(e){return O(":first",e)}function dh(e){return O(":first-child",e)}function ph(e){return O(":first-of-type",e)}function mh(e){return O(":fullscreen",e)}function vh(e){return O(":focus",e)}function gh(e){return O(":hover",e)}function yh(e){return O(":indeterminate",e)}function bh(e){return O(":in-range",e)}function _h(e){return O(":invalid",e)}function xh(e){return O(":last-child",e)}function Sh(e){return O(":last-of-type",e)}function wh(e){return O(":left",e)}function Eh(e){return O(":link",e)}function $h(e){return O(":only-child",e)}function Oh(e){return O(":only-of-type",e)}function Ah(e){return O(":optional",e)}function Rh(e){return O(":out-of-range",e)}function Nh(e){return O(":read-only",e)}function Lh(e){return O(":read-write",e)}function Th(e){return O(":required",e)}function Ch(e){return O(":right",e)}function Ih(e){return O(":root",e)}function Ph(e){return O(":scope",e)}function Dh(e){return O(":target",e)}function zh(e){return O(":valid",e)}function Mh(e){return O(":visited",e)}function Fh(e,t){return O(":dir("+e+")",t)}function kh(e,t){return O(":lang("+e+")",t)}function jh(e,t){var r=e.split(",").map(function(n){return n.trim()}).map(function(n){return":not("+n+")"});return r.length===1?O(":not("+e+")",t):fn(r.join(""),t)}function Vh(e,t){return O(":nth-child("+e+")",t)}function Wh(e,t){return O(":nth-last-child("+e+")",t)}function Bh(e,t){return O(":nth-last-of-type("+e+")",t)}function Gh(e,t){return O(":nth-of-type("+e+")",t)}function qh(e){return O("::after",e)}function Hh(e){return O("::before",e)}function Uh(e){return O("::first-letter",e)}function Xh(e){return O("::first-line",e)}function Yh(e){return O("::selection",e)}function Kh(e){return O("::backdrop",e)}function Zh(e){return j({"::placeholder":e})}function Jh(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=(0,pe.default)(t),t?t.map(function(n){var i={label:[]};return ye(i,{src:n}),Et(rt(i),wt(i)).join("")}).join(""):""}function Qh(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];t=(0,pe.default)(t);var n=t?t.map(function(i){cn(i);var s=Object.keys(i)[0],o=i[s];return s+'="'+(o||"")+'"'}).join(" "):"";return n}var B={},nt={};Object.defineProperty(nt,"__esModule",{value:!0});function ed(e){return e.name!=null}nt.isSurfaceInfo=ed;function td(e){return e.drawArea instanceof HTMLElement}nt.isSurface=td;var it={},hn={};function rd(){}var q={},Re=[],bi=[];function Ue(e,t){var r=bi,n,i,s,o;for(o=arguments.length;o-- >2;)Re.push(arguments[o]);for(t&&t.children!=null&&(Re.length||Re.push(t.children),delete t.children);Re.length;)if((i=Re.pop())&&i.pop!==void 0)for(o=i.length;o--;)Re.push(i[o]);else typeof i=="boolean"&&(i=null),(s=typeof e!="function")&&(i==null?i="":typeof i=="number"?i=String(i):typeof i!="string"&&(s=!1)),s&&n?r[r.length-1]+=i:r===bi?r=[i]:r.push(i),n=s;var a=new rd;return a.nodeName=e,a.children=r,a.attributes=t??void 0,a.key=t?.key,q.vnode!==void 0&&q.vnode(a),a}function de(e,t){for(var r in t)e[r]=t[r];return e}var nd=typeof Promise=="function"?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function as(e,t){return Ue(e.nodeName,de(de({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var id=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,Tr=[];function os(e){!e._dirty&&(e._dirty=!0)&&Tr.push(e)==1&&(q.debounceRendering||nd)(dn)}function dn(){var e,t=Tr;for(Tr=[];e=t.pop();)e._dirty&&Ft(e)}function sd(e,t,r){return typeof t=="string"||typeof t=="number"?e.splitText!==void 0:typeof t.nodeName=="string"?!e._componentConstructor&&ls(e,t.nodeName):r||e._componentConstructor===t.nodeName}function ls(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function us(e){var t=de({},e.attributes);t.children=e.children;var r=e.nodeName.defaultProps;if(r!==void 0)for(var n in r)t[n]===void 0&&(t[n]=r[n]);return t}function ad(e,t){var r=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return r.normalizedNodeName=e,r}function pn(e){var t=e.parentNode;t&&t.removeChild(e)}function _i(e,t,r,n,i){if(t==="className"&&(t="class"),t!=="key")if(t==="ref")r&&r(null),n&&n(e);else if(t==="class"&&!i)e.className=n||"";else if(t==="style"){if((!n||typeof n=="string"||typeof r=="string")&&(e.style.cssText=n||""),n&&typeof n=="object"){if(typeof r!="string")for(var s in r)s in n||(e.style[s]="");for(var s in n)e.style[s]=typeof n[s]=="number"&&id.test(s)===!1?n[s]+"px":n[s]}}else if(t==="dangerouslySetInnerHTML")n&&(e.innerHTML=n.__html||"");else if(t[0]=="o"&&t[1]=="n"){var o=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),n?r||e.addEventListener(t,xi,o):e.removeEventListener(t,xi,o),(e._listeners||(e._listeners={}))[t]=n}else if(t!=="list"&&t!=="type"&&!i&&t in e)od(e,t,n??""),(n==null||n===!1)&&e.removeAttribute(t);else{var a=i&&t!==(t=t.replace(/^xlink:?/,""));n==null||n===!1?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):typeof n!="function"&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):e.setAttribute(t,n))}}function od(e,t,r){try{e[t]=r}catch{}}function xi(e){return this._listeners[e.type](q.event&&q.event(e)||e)}var cs=[],Cr=0,fe=!1,Ot=!1;function fs(){for(var e;e=cs.pop();)q.afterMount&&q.afterMount(e),e.componentDidMount&&e.componentDidMount()}function hs(e,t,r,n,i,s){Cr++||(fe=i!=null&&i.ownerSVGElement!==void 0,Ot=e!=null&&!("__preactattr_"in e));var o=ds(e,t,r,n,s);return i&&o.parentNode!==i&&i.appendChild(o),--Cr||(Ot=!1,s||fs()),o}function ds(e,t,r,n,i){var s=e,o=fe;if((t==null||typeof t=="boolean")&&(t=""),typeof t=="string"||typeof t=="number")return e&&e.splitText!==void 0&&e.parentNode&&(!e._component||i)?e.nodeValue!=t&&(e.nodeValue=t):(s=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(s,e),Se(e,!0))),s.__preactattr_=!0,s;var a=t.nodeName;if(typeof a=="function")return hd(e,t,r,n);if(fe=a==="svg"?!0:a==="foreignObject"?!1:fe,a=String(a),(!e||!ls(e,a))&&(s=ad(a,fe),e)){for(;e.firstChild;)s.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(s,e),Se(e,!0)}var l=s.firstChild,u=s.__preactattr_,c=t.children;if(u==null){u=s.__preactattr_={};for(var f=s.attributes,d=f.length;d--;)u[f[d].name]=f[d].value}return!Ot&&c&&c.length===1&&typeof c[0]=="string"&&l!=null&&l.splitText!==void 0&&l.nextSibling==null?l.nodeValue!=c[0]&&(l.nodeValue=c[0]):(c&&c.length||l!=null)&&ld(s,c,r,n,Ot||u.dangerouslySetInnerHTML!=null),ud(s,t.attributes,u),fe=o,s}function ld(e,t,r,n,i){var s=e.childNodes,o=[],a={},l=0,u=0,c=s.length,f=0,d=t?t.length:0,h,p,b,m,S;if(c!==0)for(var _=0;_<c;_++){var A=s[_],R=A.__preactattr_,P=d&&R?A._component?A._component.__key:R.key:null;P!=null?(l++,a[P]=A):(R||(A.splitText!==void 0?!i||A.nodeValue.trim():i))&&(o[f++]=A)}if(d!==0)for(var _=0;_<d;_++){m=t[_],S=null;var P=m.key;if(P!=null)l&&a[P]!==void 0&&(S=a[P],a[P]=void 0,l--);else if(!S&&u<f){for(h=u;h<f;h++)if(o[h]!==void 0&&sd(p=o[h],m,i)){S=p,o[h]=void 0,h===f-1&&f--,h===u&&u++;break}}S=ds(S,m,r,n),b=s[_],S&&S!==e&&S!==b&&(b==null?e.appendChild(S):S===b.nextSibling?pn(b):e.insertBefore(S,b))}if(l)for(var _ in a)a[_]!==void 0&&Se(a[_],!1);for(;u<=f;)(S=o[f--])!==void 0&&Se(S,!1)}function Se(e,t){var r=e._component;r?kt(r):(e.__preactattr_!=null&&e.__preactattr_.ref&&e.__preactattr_.ref(null),(t===!1||e.__preactattr_==null)&&pn(e),ps(e))}function ps(e){for(e=e.lastChild;e;){var t=e.previousSibling;Se(e,!0),e=t}}function ud(e,t,r){var n;for(n in r)!(t&&t[n]!=null)&&r[n]!=null&&_i(e,n,r[n],r[n]=void 0,fe);for(n in t)n!=="children"&&n!=="innerHTML"&&(!(n in r)||t[n]!==(n==="value"||n==="checked"?e[n]:r[n]))&&_i(e,n,r[n],r[n]=t[n],fe)}var Ir={};function cd(e){var t=e.constructor.name;(Ir[t]||(Ir[t]=[])).push(e)}function ms(e,t,r){var n=Ir[e.name],i;if(e.prototype&&e.prototype.render?(i=new e(t,r),Xe.call(i,t,r)):(i=new Xe(t,r),i.constructor=e,i.render=fd),n){for(var s=n.length;s--;)if(n[s].constructor===e){i.nextBase=n[s].nextBase,n.splice(s,1);break}}return i}function fd(e,t,r){return this.constructor(e,r)}function At(e,t,r,n,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,n),n&&n!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=n),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,r!==0&&(r===1||q.syncComponentUpdates!==!1||!e.base?Ft(e,1,i):os(e)),e.__ref&&e.__ref(e))}function Ft(e,t,r,n){if(!e._disable){var i=e.props,s=e.state,o=e.context,a=e.prevProps||i,l=e.prevState||s,u=e.prevContext||o,c=e.base,f=e.nextBase,d=c||f,h=e._component,p=!1,b,m,S;if(c&&(e.props=a,e.state=l,e.context=u,t!==2&&e.shouldComponentUpdate&&e.shouldComponentUpdate(i,s,o)===!1?p=!0:e.componentWillUpdate&&e.componentWillUpdate(i,s,o),e.props=i,e.state=s,e.context=o),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!p){b=e.render(i,s,o),e.getChildContext&&(o=de(de({},o),e.getChildContext()));var _=b&&b.nodeName,A,R;if(typeof _=="function"){var P=us(b);m=h,m&&m.constructor===_&&P.key==m.__key?At(m,P,1,o,!1):(A=m,e._component=m=ms(_,P,o),m.nextBase=m.nextBase||f,m._parentComponent=e,At(m,P,0,o,!1),Ft(m,1,r,!0)),R=m.base}else S=d,A=h,A&&(S=e._component=null),(d||t===1)&&(S&&(S._component=null),R=hs(S,b,o,r||!c,d&&d.parentNode,!0));if(d&&R!==d&&m!==h){var G=d.parentNode;G&&R!==G&&(G.replaceChild(R,d),A||(d._component=null,Se(d,!1)))}if(A&&kt(A),e.base=R,R&&!n){for(var z=e,H=e;H=H._parentComponent;)(z=H).base=R;R._component=z,R._componentConstructor=z.constructor}}if(!c||r?cs.unshift(e):p||(e.componentDidUpdate&&e.componentDidUpdate(a,l,u),q.afterUpdate&&q.afterUpdate(e)),e._renderCallbacks!=null)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);!Cr&&!n&&fs()}}function hd(e,t,r,n){for(var i=e&&e._component,s=i,o=e,a=i&&e._componentConstructor===t.nodeName,l=a,u=us(t);i&&!l&&(i=i._parentComponent);)l=i.constructor===t.nodeName;return i&&l&&(!n||i._component)?(At(i,u,3,r,n),e=i.base):(s&&!a&&(kt(s),e=o=null),i=ms(t.nodeName,u,r),e&&!i.nextBase&&(i.nextBase=e,o=null),At(i,u,1,r,n),e=i.base,o&&e!==o&&(o._component=null,Se(o,!1))),e}function kt(e){q.beforeUnmount&&q.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var r=e._component;r?kt(r):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,pn(t),cd(e),ps(t)),e.__ref&&e.__ref(null)}function Xe(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}de(Xe.prototype,{setState:function(t,r){var n=this.state;this.prevState||(this.prevState=de({},n)),de(n,typeof t=="function"?t(n,this.props):t),r&&(this._renderCallbacks=this._renderCallbacks||[]).push(r),os(this)},forceUpdate:function(t){t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),Ft(this,2)},render:function(){}});function vs(e,t,r){return hs(r,e,{},!1,t,!1)}var dd={h:Ue,createElement:Ue,cloneElement:as,Component:Xe,render:vs,rerender:dn,options:q};const pd=Object.freeze(Object.defineProperty({__proto__:null,Component:Xe,cloneElement:as,createElement:Ue,default:dd,h:Ue,options:q,render:vs,rerender:dn},Symbol.toStringTag,{value:"Module"})),mn=Ce(pd);var vn={};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(vn,"__esModule",{value:!0});const ht=mn,ar=v;class Le extends ht.Component{componentDidMount(){const{name:t,tab:r}=this.props;this.props.registerSurface(t,r,this)}componentDidUpdate(){return!1}render(){const{name:t,visible:r,styles:n}=this.props,i=Object.assign({},Le.defaultStyles,n),{width:s,height:o}=i;let{maxHeight:a,maxWidth:l}=i;a=o===Le.defaultStyles.height?a:o,l=s===Le.defaultStyles.width?l:s;const u=ar.css({display:r?"block":"none",backgroundColor:"white",marginTop:"10px",marginBottom:"10px",boxShadow:"0 0 6px -3px #777",padding:"10px !important",height:o,width:s,maxHeight:a,maxWidth:l,overflow:"auto"}),c=ar.css({backgroundColor:"white",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",marginBottom:"20px",fontWeight:"600",textAlign:"center"}),f=ar.css({boxSizing:"border-box"});return ht.h("div",{className:`${u} tf-surface`,ref:d=>this.container=d,"data-visible":r},ht.h("div",{className:`${c} tf-label`,ref:d=>this.label=d},t),ht.h("div",{className:`${f} tf-draw-area`,ref:d=>this.drawArea=d}))}}Le.defaultStyles={maxWidth:"550px",maxHeight:"580px",height:"auto",width:"auto"};vn.SurfaceComponent=Le;var gn={};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(gn,"__esModule",{value:!0});const Ge=mn,gs=v;class md extends Ge.Component{render(){const{tabNames:t,activeTab:r,handleClick:n}=this.props,i=t.length>0?t.map(o=>Ge.h(vd,{key:o,id:o,handleClick:n,isActive:o===r},o)):null,s=gs.css({overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"#eee",paddingBottom:"1rem",marginTop:"1rem"});return Ge.h("div",{className:`${s} visor-tabs`},i)}}gn.Tabs=md;class vd extends Ge.Component{render(){const{children:t,isActive:r,handleClick:n,id:i}=this.props,s=gs.css({borderBottomColor:r?"#357EDD":"#AAAAAA",borderBottomWidth:"1px",borderBottomStyle:"solid",cursor:"pointer",":hover":{color:"#357EDD"},display:"inline-block",marginRight:"1rem",padding:".5rem",fontSize:"1rem",fontWeight:"bold"});return Ge.h("a",{className:`${s} tf-tab`,"data-isactive":r,onClick:()=>n(i)},t)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(hn,"__esModule",{value:!0});const Q=mn,_e=v,gd=vn,yd=gn;class yn extends Q.Component{static render(t,r,n){return Q.render(Q.h(yn,Object.assign({},n)),t,r)}constructor(t){super(t),this.surfaces=new Map;const r=t.startOpen==null?!0:t.startOpen;this.state={isOpen:r,isFullscreen:!1,activeTab:null,tabs:new Set},this.keyHandler=this.keyHandler.bind(this)}close(){this.setState({isOpen:!1})}open(){this.setState({isOpen:!0})}toggle(){this.setState({isOpen:!this.state.isOpen})}toggleFullScreen(){this.setState({isFullscreen:!this.state.isFullscreen})}isOpen(){return this.state.isOpen}isFullscreen(){return this.state.isFullscreen}getSurface(t,r){const n=this.surfaceId(t,r);let i;if(this.surfaces.has(n))i=this.surfaces.get(n);else throw Error(`Surface not found with id: ${n}`);return{container:i.container,label:i.label,drawArea:i.drawArea}}bindKeys(){document.addEventListener("keydown",this.keyHandler,!1)}unbindKeys(){document.removeEventListener("keydown",this.keyHandler)}surfaceId(t,r){return t+r}setTabs(t){const r=t.map(s=>s.tab),n=this.state.tabs;let i;for(const s of r)n.has(s)||(n.add(s),i=s);i!=null&&this.setState({tabs:n,activeTab:i})}getTabs(){return this.state.tabs}registerSurface(t,r,n){const i=this.surfaceId(t,r);this.surfaces.set(i,n)}keyHandler(t){t.keyCode===192&&(t.shiftKey?this.toggleFullScreen():this.toggle())}setActiveTab(t){this.setState({activeTab:t})}componentDidMount(){this.bindKeys()}componentWillMount(){this.setTabs(this.props.surfaceList)}componentWillReceiveProps(t){this.setTabs(t.surfaceList)}render(){const{isOpen:t,isFullscreen:r,activeTab:n}=this.state,{surfaceList:i}=this.props,s=Array.from(this.getTabs().values()),l=r?"90vw":"550px",u=_e.css({width:l,height:"100%",backgroundColor:"#fafafa",boxSizing:"border-box",padding:"10px",position:"fixed",top:"0px",transition:"right 0.5s cubic-bezier(0.645, 0.045, 0.355, 1), width 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.12), 0 2px 5px rgba(0, 0, 0, 0.24)",overflow:"auto",fontFamily:"sans-serif",fontSize:"14px",zIndex:1e3}),c=_e.css({right:"0"}),f=_e.css({right:`calc(-${l} - 10px)`}),d=t?c:f,h=_e.css({});return Q.h("div",{className:`${u} ${d} visor`,"data-isopen":t,"data-isfullscreen":r},Q.h(bd,{fullScreenHandler:this.toggleFullScreen.bind(this),closeHandler:this.close.bind(this),isFullScreen:r}),Q.h(yd.Tabs,{tabNames:s,activeTab:n,handleClick:this.setActiveTab.bind(this)}),Q.h("div",{className:`${h} visor-surfaces`},i.map(p=>Q.h(gd.SurfaceComponent,{key:p.name+p.tab,name:p.name,tab:p.tab,styles:p.styles,registerSurface:this.registerSurface.bind(this),visible:n===p.tab}))))}}hn.VisorComponent=yn;function bd(e){const{isFullScreen:t,fullScreenHandler:r,closeHandler:n}=e,i=_e.css({display:"flex",backgroundColor:"white",border:"1px solid white",padding:"6px",paddingTop:"10px",marginBottom:"10px",borderRadius:"6px",marginTop:"-16px"}),s=_e.css({fontSize:".875rem",borderRadius:".25rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:".5rem",paddingBottom:".5rem",textDecoration:"none",transition:"color .15s ease-in",color:"#111"}),o=_e.css({marginLeft:"auto"});return Q.h("div",{className:`${i} visor-controls`},Q.h("button",{className:`${s}`,onClick:r},t?"Minimize":"Maximize"),Q.h("button",{className:`${s} ${o}`,onClick:n},"Hide"))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(it,"__esModule",{value:!0});const _d=hn;let dt;const xd="Visor",or="tfjs-visor-container";function Sd(){if(typeof document>"u")throw new Error("No document defined. This library needs a browser/dom to work");if(document.getElementById(or)&&dt!=null)return dt;let e=document.getElementById(or);e==null&&(e=document.createElement("div"),e.id=or,document.body.appendChild(e));let t;function r(s,o){let a=null;return t=_d.VisorComponent.render(s,t,{ref:l=>a=l,surfaceList:Array.from(o.values())}),a}const n=new Map,i=r(e,n);return dt=new ys(i,e,n,r),dt}it.visor=Sd;class ys{constructor(t,r,n,i){this.visorComponent=t,this.el=r,this.surfaceList=n,this.renderVisor=i}surface(t){const{name:r}=t,n=t.tab==null?xd:t.tab;if(r==null||!(typeof r=="string"||r instanceof String))throw new Error("You must pass a config object with a 'name' property to create or retrieve a surface");const i=Object.assign({},t,{tab:n}),s=`${r}-${n}`;return this.surfaceList.has(s)||this.surfaceList.set(s,i),this.renderVisor(this.el,this.surfaceList),this.visorComponent.getSurface(r,n)}isFullscreen(){return this.visorComponent.isFullscreen()}isOpen(){return this.visorComponent.isOpen()}close(){return this.visorComponent.close()}open(){return this.visorComponent.open()}toggle(){return this.visorComponent.toggle()}toggleFullScreen(){return this.visorComponent.toggleFullScreen()}bindKeys(){return this.visorComponent.bindKeys()}unbindKeys(){return this.visorComponent.unbindKeys()}setActiveTab(t){if(!this.visorComponent.state.tabs.has(t))throw new Error(`Tab '${t}' does not exist`);this.visorComponent.setState({activeTab:t})}}it.Visor=ys;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var wd=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(B,"__esModule",{value:!0});const Si=nt,Ed=it;function $d(e){if(e instanceof HTMLElement)return e;if(Si.isSurface(e))return e.drawArea;if(Si.isSurfaceInfo(e))return Ed.visor().surface({name:e.name,tab:e.tab,styles:e.styles}).drawArea;throw new Error("Not a drawable")}B.getDrawArea=$d;function Od(e,t){const r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s])return!1}return!0}B.shallowEquals=Od;function Ad(){return wd(this,void 0,void 0,function*(){yield new Promise(e=>requestAnimationFrame(e))})}B.nextFrame=Ad;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(Z,"__esModule",{value:!0});const wi=v,Rd=B,Nd={prepend:!1};function Ld(e,t,r={}){const n=Rd.getDrawArea(e),i=wi.css({"& canvas":{display:"block"},marginTop:".5rem",marginBottom:".5rem"}),s=wi.css({backgroundColor:"white",display:"inline-block",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",padding:"0 10px 0 10px",marginBottom:"20px",fontWeight:"600",textAlign:"left"}),o=Object.assign({},Nd,r);let a=n.querySelector(`div[data-name=${t}]`);if(!a){if(a=document.createElement("div"),a.setAttribute("class",`${i}`),a.dataset.name=t,o.title){const l=document.createElement("div");l.setAttribute("class",`subsurface-title ${s}`),l.innerText=o.title,a.appendChild(l)}o.prepend?n.insertBefore(a,n.firstChild):n.appendChild(a)}return a}Z.subSurface=Ld;function Td(e){let r=0,n=e;for(;n&&n.clientWidth===0;)n=n.parentElement,r=50;return n.clientWidth-r}Z.getDefaultWidth=Td;function Cd(e){return e.clientHeight===0?200:e.clientHeight}Z.getDefaultHeight=Cd;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Id=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})},Pd=L&&L.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jr,"__esModule",{value:!0});const Dd=Pd(Pe),Ei=Z,pt=B;function zd(e,t,r={}){return Id(this,void 0,void 0,function*(){const n=pt.getDrawArea(e),i=t,s=Object.assign({},Md,r);if(lr.has(n)){const m=lr.get(n);if(pt.shallowEquals(s,m.lastOptions)){yield pt.nextFrame();const S=m.view,_=S.changeset().remove(()=>!0).insert(i);yield S.change("values",_).runAsync();return}}const{xLabel:o,yLabel:a,xType:l,yType:u}=s;let c=null;o!=null&&(c={title:o});let f=null;a!=null&&(f={title:a});const d={actions:!1,mode:"vega-lite",defaultStyle:!1};let h;s.color!=null?Array.isArray(s.color)?h={field:"index",type:"nominal",scale:{range:s.color}}:h={value:s.color}:h={value:"#4C78A0"};const p={width:s.width||Ei.getDefaultWidth(n),height:s.height||Ei.getDefaultHeight(n),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:s.fontSize,titleFontSize:s.fontSize},text:{fontSize:s.fontSize},legend:{labelFontSize:s.fontSize,titleFontSize:s.fontSize}},data:{values:i,name:"values"},mark:{type:"bar",tooltip:!0},encoding:{x:{field:"index",type:l,axis:c},y:{field:"value",type:u,axis:f},color:h}};yield pt.nextFrame();const b=yield Dd.default(n,p,d);lr.set(n,{view:b.view,lastOptions:s})})}jr.barchart=zd;const Md={xLabel:"",yLabel:"",xType:"ordinal",yType:"quantitative",fontSize:11},lr=new Map;var bn={};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Fd=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})},kd=L&&L.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bn,"__esModule",{value:!0});const jd=kd(Pe),$i=Z,Vd=B;function Wd(e,t,r={}){return Fd(this,void 0,void 0,function*(){const n=Object.assign({},Bd,r),i=Vd.getDrawArea(e),s=[],o=t.values,a=t.tickLabels||[],l=a.length===0;let u=!0;for(let h=0;h<o.length;h++){const p=l?`Class ${h}`:a[h];l&&a.push(p);for(let b=0;b<o[h].length;b++){const m=l?`Class ${b}`:a[b],S=o[h][b];h===b&&!n.shadeDiagonal?s.push({label:p,prediction:m,count:S,noFill:!0}):(s.push({label:p,prediction:m,count:S,scaleCount:S}),S!==0&&(u=!1))}}if(!n.shadeDiagonal&&u)for(const h of s)h.noFill===!0&&(h.noFill=!1,h.scaleCount=h.count);const c={actions:!1,mode:"vega-lite",defaultStyle:!1},f={width:n.width||$i.getDefaultWidth(i),height:n.height||$i.getDefaultHeight(i),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:n.fontSize,titleFontSize:n.fontSize},text:{fontSize:n.fontSize},legend:{labelFontSize:n.fontSize,titleFontSize:n.fontSize}},data:{values:s},encoding:{x:{field:"prediction",type:"ordinal",title:n.xLabel||"prediction",scale:{domain:a}},y:{field:"label",type:"ordinal",title:n.yLabel||"label",scale:{domain:a}}},layer:[{transform:[{filter:"datum.noFill != true"}],mark:{type:"rect"},encoding:{color:{field:"scaleCount",type:"quantitative",scale:{range:n.colorMap}},tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}]};n.shadeDiagonal===!1&&f.layer.push({transform:[{filter:"datum.noFill == true"}],mark:{type:"rect",fill:"white"},encoding:{tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}),n.showTextOverlay&&f.layer.push({mark:{type:"text",baseline:"middle"},encoding:{text:{field:"count",type:"nominal"}}});const d=typeof n.colorMap=="string"?{scheme:n.colorMap}:n.colorMap;f.layer[0].encoding.color.scale.range=d,yield jd.default(i,f,c)})}bn.confusionMatrix=Wd;const Bd={xLabel:null,yLabel:null,xType:"nominal",yType:"nominal",shadeDiagonal:!0,fontSize:12,showTextOverlay:!0,height:400,colorMap:["#f7fbff","#4292c6"]};var _n={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});/*
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bs(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}ce.assert=bs;function Gd(e,t,r=""){bs(_s(e,t),r+` Shapes ${e} and ${t} must match`)}ce.assertShapesMatch=Gd;function _s(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}ce.arraysEqual=_s;ce.DECIMAL_PLACES_TO_CHECK=4;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var xs=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})},qd=L&&L.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},Hd=L&&L.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_n,"__esModule",{value:!0});const qe=qd(Fi),Ud=Hd(Pe),Oi=Z,Ye=ce,Xd=B;function Yd(e,t,r={}){return xs(this,void 0,void 0,function*(){const n=Object.assign({},Zd,r),i=Xd.getDrawArea(e);let s=t.values;n.rowMajor&&(s=yield Kd(t.values));const{xTickLabels:o,yTickLabels:a}=t;o!=null&&Ai(s,o,0),a!=null&&Ai(s,a,1);const l="@tfidx@",u=[];if(s instanceof qe.Tensor){Ye.assert(s.rank===2,"Input to renderHeatmap must be a 2d array or Tensor2d");const b=yield s.data(),[m,S]=s.shape;for(let _=0;_<m;_++){const A=o?`${o[_]}${l}${_}`:_;for(let R=0;R<S;R++){const P=a?`${a[R]}${l}${R}`:R,G=_*S+R,z=b[G];u.push({x:A,y:P,value:z})}}}else{const b=s;for(let m=0;m<b.length;m++){const S=o?`${o[m]}${l}${m}`:m;for(let _=0;_<b[m].length;_++){const A=a?`${a[_]}${l}${_}`:_,R=b[m][_];u.push({x:S,y:A,value:R})}}}const c={actions:!1,mode:"vega-lite",defaultStyle:!1},f={width:n.width||Oi.getDefaultWidth(i),height:n.height||Oi.getDefaultHeight(i),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:n.fontSize,titleFontSize:n.fontSize},text:{fontSize:n.fontSize},legend:{labelFontSize:n.fontSize,titleFontSize:n.fontSize},scale:{bandPaddingInner:0,bandPaddingOuter:0}},data:{values:u},mark:{type:"rect",tooltip:!0},encoding:{x:{field:"x",type:n.xType,title:n.xLabel,sort:!1},y:{field:"y",type:n.yType,title:n.yLabel,sort:!1},fill:{field:"value",type:"quantitative"}}},d=`${l}\\d+$`,h=new RegExp(d);o&&(f.encoding.x.axis={labelExpr:`replace(datum.value, regexp(/${d}/), '')`}),a&&(f.encoding.y.axis={labelExpr:`replace(datum.value, regexp(/${d}/), '')`}),(o||a)&&(c.tooltip={sanitize:b=>String(b).replace(h,"")});let p;switch(n.colorMap){case"blues":p=["#f7fbff","#4292c6"];break;case"greyscale":p=["#000000","#ffffff"];break;case"viridis":default:p="viridis";break}if(p!=="viridis"){const b=f.encoding.fill;b.scale={range:p}}if(n.domain){const b=f.encoding.fill;b.scale!=null?b.scale=Object.assign({},b.scale,{domain:n.domain}):b.scale={domain:n.domain}}yield Ud.default(i,f,c)})}_n.heatmap=Yd;function Kd(e){return xs(this,void 0,void 0,function*(){let t,r;e instanceof qe.Tensor?(t=e.shape,r=e.transpose()):(t=[e.length,e[0].length],r=qe.tidy(()=>qe.tensor2d(e).transpose())),Ye.assert(r.rank===2,"Input to renderHeatmap must be a 2d array or Tensor2d");const n=yield r.array();r.dispose();const i=[n.length,n[0].length];return Ye.assert(t[0]===i[1]&&t[1]===i[0],`Unexpected transposed shape. Original ${t} : Transposed ${i}`),n})}function Ai(e,t,r){const n=e instanceof qe.Tensor?e.shape:[e.length,e[0].length];r===0?Ye.assert(n[0]===t.length,`Length of xTickLabels (${t.length}) must match number of rows (${n[0]})`):r===1&&Ye.assert(n[1]===t.length,`Length of yTickLabels (${t.length}) must match number of columns (${n[1]})`)}const Zd={xLabel:null,yLabel:null,xType:"ordinal",yType:"ordinal",colorMap:"viridis",fontSize:12,domain:null,rowMajor:!1};var st={};const Ss=Ce(oa);var ie={};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var jt=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(ie,"__esModule",{value:!0});const we=Fi,he=ce;function Jd(e){if(!Array.isArray(e))throw new Error("input must be an array");if(e.length===0)return{numVals:0,numNans:0,numZeros:0,max:void 0,min:void 0};const t=e.length;let r=-1/0,n=1/0,i=0,s=0,o=0;for(let l=0;l<t;l++){const u=e[l];u>r&&(r=u),u<n&&(n=u),u===0&&(i+=1),isNaN(u)?s+=1:isFinite(u)||(o+=1)}const a={numVals:t,numZeros:i,numNans:s,max:r,min:n,numInfs:o};return a.max===-1/0&&(a.max=NaN),a.min===1/0&&(a.min=NaN),a}ie.arrayStats=Jd;function Qd(e){return jt(this,void 0,void 0,function*(){const[t,r,n]=we.tidy(()=>{const i=we.scalar(0,e.dtype),s=e.min(),o=e.max(),a=e.equal(i).sum();return[s,o,a]});return Promise.all([e.data(),t.data(),r.data(),n.data()]).then(([i,s,o,a])=>{const l=i.length;let u=0,c=0;for(let p=0;p<l;p++){const b=i[p];isNaN(b)?u+=1:isFinite(b)||(c+=1)}let f=s[0],d=o[0];return u===l&&(f=NaN,d=NaN),{numVals:l,numZeros:a[0],numNans:u,min:f,max:d,numInfs:c}})})}ie.tensorStats=Qd;function ep(e,t,r,n){return jt(this,void 0,void 0,function*(){he.assert(e.rank===1,"labels must be a 1D tensor"),he.assert(t.rank===1,"predictions must be a 1D tensor"),he.assert(e.size===t.size,"labels and predictions must be the same length"),n!=null&&he.assert(n.size===t.size,"labels and predictions must be the same length");const i=e.cast("int32"),s=t.cast("int32");r==null&&(r=we.tidy(()=>we.maximum(i.max(),s.max()).cast("int32").dataSync()[0]+1));let o=Promise.resolve(null);return n!=null&&(o=n.data()),Promise.all([i.data(),s.data(),o]).then(([a,l,u])=>{const c=Array(r).fill(0);for(let f=0;f<r;f++)c[f]=Array(r).fill(0);for(let f=0;f<a.length;f++){const d=a[f],h=l[f];u!=null?c[d][h]+=u[f]:c[d][h]+=1}return c})})}ie.confusionMatrix=ep;function tp(e,t){return jt(this,void 0,void 0,function*(){he.assertShapesMatch(e.shape,t.shape,"Error computing accuracy.");const r=e.equal(t),n=r.mean(),i=(yield n.data())[0];return we.dispose([r,n]),i})}ie.accuracy=tp;function rp(e,t,r){return jt(this,void 0,void 0,function*(){return he.assert(e.rank===1,"labels must be a 1D tensor"),he.assert(t.rank===1,"predictions must be a 1D tensor"),he.assert(e.size===t.size,"labels and predictions must be the same length"),r==null&&(r=we.tidy(()=>we.maximum(e.max(),t.max()).dataSync()[0]+1)),Promise.all([e.data(),t.data()]).then(([n,i])=>{const s=Array(r).fill(0),o=Array(r).fill(0);for(let l=0;l<n.length;l++){const u=n[l],c=i[l];s[u]+=1,u===c&&(o[u]+=1)}const a=[];for(let l=0;l<s.length;l++)a.push({count:s[l],accuracy:s[l]===0?0:o[l]/s[l]});return a})})}ie.perClassAccuracy=rp;var Me={},Pr="http://www.w3.org/1999/xhtml";const Dr={svg:"http://www.w3.org/2000/svg",xhtml:Pr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xn(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Dr.hasOwnProperty(t)?{space:Dr[t],local:e}:e}function np(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Pr&&t.documentElement.namespaceURI===Pr?t.createElement(e):t.createElementNS(r,e)}}function ip(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Vt(e){var t=xn(e);return(t.local?ip:np)(t)}function sp(){}function Sn(e){return e==null?sp:function(){return this.querySelector(e)}}function ap(e){typeof e!="function"&&(e=Sn(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new V(n,this._parents)}function op(){return[]}function ws(e){return e==null?op:function(){return this.querySelectorAll(e)}}function lp(e){typeof e!="function"&&(e=ws(e));for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(n.push(e.call(l,l.__data__,u,o)),i.push(l));return new V(n,i)}var Es=function(e){return function(){return this.matches(e)}};if(typeof document<"u"){var Ve=document.documentElement;if(!Ve.matches){var up=Ve.webkitMatchesSelector||Ve.msMatchesSelector||Ve.mozMatchesSelector||Ve.oMatchesSelector;Es=function(e){return function(){return up.call(this,e)}}}}const $s=Es;function cp(e){typeof e!="function"&&(e=$s(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new V(n,this._parents)}function Os(e){return new Array(e.length)}function fp(){return new V(this._enter||this._groups.map(Os),this._parents)}function Rt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Rt.prototype={constructor:Rt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function hp(e){return function(){return e}}var Ri="$";function dp(e,t,r,n,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],n[o]=a):r[o]=new Rt(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function pp(e,t,r,n,i,s,o){var a,l,u={},c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(d[a]=h=Ri+o.call(l,l.__data__,a,t),h in u?i[a]=l:u[h]=l);for(a=0;a<f;++a)h=Ri+o.call(e,s[a],a,s),(l=u[h])?(n[a]=l,l.__data__=s[a],u[h]=null):r[a]=new Rt(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u[d[a]]===l&&(i[a]=l)}function mp(e,t){if(!e)return h=new Array(this.size()),u=-1,this.each(function(G){h[++u]=G}),h;var r=t?pp:dp,n=this._parents,i=this._groups;typeof e!="function"&&(e=hp(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=n[u],f=i[u],d=f.length,h=e.call(c,c&&c.__data__,u,n),p=h.length,b=a[u]=new Array(p),m=o[u]=new Array(p),S=l[u]=new Array(d);r(c,f,b,m,S,h,t);for(var _=0,A=0,R,P;_<p;++_)if(R=b[_]){for(_>=A&&(A=_+1);!(P=m[A])&&++A<p;);R._next=P||null}}return o=new V(o,n),o._enter=a,o._exit=l,o}function vp(){return new V(this._exit||this._groups.map(Os),this._parents)}function gp(e){for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var l=t[a],u=r[a],c=l.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;a<n;++a)o[a]=t[a];return new V(o,this._parents)}function yp(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&s!==o.nextSibling&&s.parentNode.insertBefore(o,s),s=o);return this}function bp(e){e||(e=_p);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new V(i,this._parents).order()}function _p(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xp(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sp(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function wp(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}function Ep(){var e=0;return this.each(function(){++e}),e}function $p(){return!this.node()}function Op(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function Ap(e){return function(){this.removeAttribute(e)}}function Rp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Np(e,t){return function(){this.setAttribute(e,t)}}function Lp(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Tp(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Cp(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Ip(e,t){var r=xn(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Rp:Ap:typeof t=="function"?r.local?Cp:Tp:r.local?Lp:Np)(r,t))}function wn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Pp(e){return function(){this.style.removeProperty(e)}}function Dp(e,t,r){return function(){this.style.setProperty(e,t,r)}}function zp(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Mp(e,t,r){return arguments.length>1?this.each((t==null?Pp:typeof t=="function"?zp:Dp)(e,t,r??"")):As(this.node(),e)}function As(e,t){return e.style.getPropertyValue(t)||wn(e).getComputedStyle(e,null).getPropertyValue(t)}function Fp(e){return function(){delete this[e]}}function kp(e,t){return function(){this[e]=t}}function jp(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Vp(e,t){return arguments.length>1?this.each((t==null?Fp:typeof t=="function"?jp:kp)(e,t)):this.node()[e]}function Rs(e){return e.trim().split(/^|\s+/)}function En(e){return e.classList||new Ns(e)}function Ns(e){this._node=e,this._names=Rs(e.getAttribute("class")||"")}Ns.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ls(e,t){for(var r=En(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Ts(e,t){for(var r=En(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Wp(e){return function(){Ls(this,e)}}function Bp(e){return function(){Ts(this,e)}}function Gp(e,t){return function(){(t.apply(this,arguments)?Ls:Ts)(this,e)}}function qp(e,t){var r=Rs(e+"");if(arguments.length<2){for(var n=En(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Gp:t?Wp:Bp)(r,t))}function Hp(){this.textContent=""}function Up(e){return function(){this.textContent=e}}function Xp(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Yp(e){return arguments.length?this.each(e==null?Hp:(typeof e=="function"?Xp:Up)(e)):this.node().textContent}function Kp(){this.innerHTML=""}function Zp(e){return function(){this.innerHTML=e}}function Jp(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Qp(e){return arguments.length?this.each(e==null?Kp:(typeof e=="function"?Jp:Zp)(e)):this.node().innerHTML}function em(){this.nextSibling&&this.parentNode.appendChild(this)}function tm(){return this.each(em)}function rm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nm(){return this.each(rm)}function im(e){var t=typeof e=="function"?e:Vt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function sm(){return null}function am(e,t){var r=typeof e=="function"?e:Vt(e),n=t==null?sm:typeof t=="function"?t:Sn(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function om(){var e=this.parentNode;e&&e.removeChild(this)}function lm(){return this.each(om)}function um(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function cm(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function fm(e){return this.select(e?cm:um)}function hm(e){return arguments.length?this.property("__data__",e):this.node().__data__}var Cs={},ue=null;if(typeof document<"u"){var dm=document.documentElement;"onmouseenter"in dm||(Cs={mouseenter:"mouseover",mouseleave:"mouseout"})}function pm(e,t,r){return e=Is(e,t,r),function(n){var i=n.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&e.call(this,n)}}function Is(e,t,r){return function(n){var i=ue;ue=n;try{e.call(this,this.__data__,t,r)}finally{ue=i}}}function mm(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function vm(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.capture):t[++n]=s;++n?t.length=n:delete this.__on}}}function gm(e,t,r){var n=Cs.hasOwnProperty(e.type)?pm:Is;return function(i,s,o){var a=this.__on,l,u=n(t,s,o);if(a){for(var c=0,f=a.length;c<f;++c)if((l=a[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=u,l.capture=r),l.value=t;return}}this.addEventListener(e.type,u,r),l={type:e.type,name:e.name,value:t,listener:u,capture:r},a?a.push(l):this.__on=[l]}}function ym(e,t,r){var n=mm(e+""),i,s=n.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=n[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?gm:vm,r==null&&(r=!1),i=0;i<s;++i)this.each(a(n[i],t,r));return this}function bm(e,t,r,n){var i=ue;e.sourceEvent=ue,ue=e;try{return t.apply(r,n)}finally{ue=i}}function Ps(e,t,r){var n=wn(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function _m(e,t){return function(){return Ps(this,e,t)}}function xm(e,t){return function(){return Ps(this,e,t.apply(this,arguments))}}function Sm(e,t){return this.each((typeof t=="function"?xm:_m)(e,t))}var $n=[null];function V(e,t){this._groups=e,this._parents=t}function Ds(){return new V([[document.documentElement]],$n)}V.prototype=Ds.prototype={constructor:V,select:ap,selectAll:lp,filter:cp,data:mp,enter:fp,exit:vp,merge:gp,order:yp,sort:bp,call:xp,nodes:Sp,node:wp,size:Ep,empty:$p,each:Op,attr:Ip,style:Mp,property:Vp,classed:qp,text:Yp,html:Qp,raise:tm,lower:nm,append:im,insert:am,remove:lm,clone:fm,datum:hm,on:ym,dispatch:Sm};function zs(e){return typeof e=="string"?new V([[document.querySelector(e)]],[document.documentElement]):new V([[e]],$n)}function wm(e){return zs(Vt(e).call(document.documentElement))}var Em=0;function Ms(){return new zr}function zr(){this._="@"+(++Em).toString(36)}zr.prototype=Ms.prototype={constructor:zr,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function On(){for(var e=ue,t;t=e.sourceEvent;)e=t;return e}function Wt(e,t){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}function $m(e){var t=On();return t.changedTouches&&(t=t.changedTouches[0]),Wt(e,t)}function Om(e){return typeof e=="string"?new V([document.querySelectorAll(e)],[document.documentElement]):new V([e??[]],$n)}function Am(e,t,r){arguments.length<3&&(r=t,t=On().changedTouches);for(var n=0,i=t?t.length:0,s;n<i;++n)if((s=t[n]).identifier===r)return Wt(e,s);return null}function Rm(e,t){t==null&&(t=On().touches);for(var r=0,n=t?t.length:0,i=new Array(n);r<n;++r)i[r]=Wt(e,t[r]);return i}const Nm=Object.freeze(Object.defineProperty({__proto__:null,clientPoint:Wt,create:wm,creator:Vt,customEvent:bm,get event(){return ue},local:Ms,matcher:$s,mouse:$m,namespace:xn,namespaces:Dr,select:zs,selectAll:Om,selection:Ds,selector:Sn,selectorAll:ws,style:As,touch:Am,touches:Rm,window:wn},Symbol.toStringTag,{value:"Module"})),Lm=Ce(Nm);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object.defineProperty(Me,"__esModule",{value:!0});const Tm=Ss,Ni=Lm,ur=v,Cm=B;function Im(e,t,r={}){if(t&&t.headers==null)throw new Error('Data to render must have a "headers" property');if(t&&t.values==null)throw new Error('Data to render must have a "values" property');const n=Cm.getDrawArea(e),i=Object.assign({},Pm,r);let s=Ni.select(n).select("table.tf-table");const o=ur.css({fontSize:i.fontSize||".875rem",width:"100%",maxWidth:"64rem",marginRight:"auto",marginLeft:"auto"});if(s.size()===0&&(s=Ni.select(n).append("table"),s.attr("class",` ${o} tf-table`),s.append("thead").append("tr"),s.append("tbody")),s.size()!==1)throw new Error("Error inserting table");const a=ur.css({fontWeight:"600",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )",textAlign:"left",paddingBottom:"1rem",paddingRight:"1rem",backgroundColor:"#fff"}),l=s.select("thead").select("tr").selectAll("th").data(t.headers),u=l.enter().append("th").attr("class",`${a}`);l.merge(u).html(m=>m),l.exit().remove();const c=Tm.format(",.4~f"),f=s.select("tbody").selectAll("tr").data(t.values),d=f.enter().append("tr"),h=ur.css({padding:"0.25rem",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )"}),p=f.merge(d).selectAll("td").data(m=>m),b=p.enter().append("td").attr("class",`${h}`);p.merge(b).html(m=>typeof m=="number"?c(m):m),p.exit().remove(),f.exit().remove()}Me.table=Im;const Pm={fontSize:14};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Dm=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})},zm=L&&L.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(st,"__esModule",{value:!0});const Li=Ss,Mm=zm(Pe),mt=Z,Fm=ie,km=Me,jm={maxBins:12,fontSize:11};function Vm(e,t,r={}){return Dm(this,void 0,void 0,function*(){const n=Bm(t),i=Object.assign({},jm,r),s={actions:!1,mode:"vega-lite",defaultStyle:!1},o=mt.subSurface(e,"histogram");if(r.stats!==!1){const u=mt.subSurface(e,"stats",{prepend:!0});let c;r.stats?c=r.stats:c=Fm.arrayStats(n.map(f=>f.value)),Wm(c,u,{fontSize:i.fontSize})}if(n.length===0)return;const a=[];for(let u=0;u<n.length;u++){const c=n[u].value;c!=null&&isFinite(c)&&a.push(n[u])}const l={width:i.width||mt.getDefaultWidth(o),height:i.height||mt.getDefaultHeight(o),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},data:{values:a},mark:{type:"bar",tooltip:!0},config:{axis:{labelFontSize:i.fontSize,titleFontSize:i.fontSize},text:{fontSize:i.fontSize},legend:{labelFontSize:i.fontSize,titleFontSize:i.fontSize}},encoding:{x:{bin:{maxbins:i.maxBins},field:"value",type:"quantitative"},y:{aggregate:"count",type:"quantitative"},color:{value:i.color||"#001B44"}}};return Mm.default(o,l,s)})}st.histogram=Vm;function Wm(e,t,r){const n=Li.format(",.4~f"),i=Li.format(".4~p"),s=[],o=[];if(e.numVals!=null&&(s.push("Num Vals"),o.push(n(e.numVals))),e.min!=null&&(s.push("Min"),o.push(n(e.min))),e.max!=null&&(s.push("Max"),o.push(n(e.max))),e.numZeros!=null){s.push("# Zeros");let a="";e.numVals&&(a=e.numZeros>0?`(${i(e.numZeros/e.numVals)})`:""),o.push(`${n(e.numZeros)} ${a}`)}if(e.numNans!=null){s.push("# NaNs");let a="";e.numVals&&(a=e.numNans>0?`(${i(e.numNans/e.numVals)})`:""),o.push(`${n(e.numNans)} ${a}`)}if(e.numInfs!=null){s.push("# Infinity");let a="";e.numVals&&(a=e.numInfs>0?`(${i(e.numInfs/e.numVals)})`:""),o.push(`${n(e.numInfs)} ${a}`)}km.table(t,{headers:s,values:[o]},r)}function Bm(e){if(e.length==null)throw new Error("input data must be an array");if(e.length===0)return[];if(typeof e[0]=="object"){if(e[0].value==null)throw new Error("input data must have a value field");return e}else{const t=Array(e.length);for(let r=0;r<e.length;r++)t[r]={value:e[r]};return t}}var Bt={};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Gm=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})},qm=L&&L.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bt,"__esModule",{value:!0});const Hm=qm(Pe),Ti=Z,Ci=ce,Um=B;function Xm(e,t,r={}){return Gm(this,void 0,void 0,function*(){const n=Array.isArray(t.values[0])?t.values:[t.values],i=n[0].length,s=t.series?t.series:n.map((b,m)=>`Series ${m+1}`);Ci.assert(s.length===n.length,"Must have an equal number of series labels as there are data series"),r.seriesColors!=null&&Ci.assert(r.seriesColors.length===n.length,"Must have an equal number of series colors as there are data series");const o=[];for(let b=0;b<i;b++){const m={x:b};s.forEach((S,_)=>{const A=n[_][b].y;m[S]=A,m[`${S}-name`]=S}),o.push(m)}const a=Object.assign({},Ym,r),l=()=>{if(a.zoomToFit)return{zero:!1};if(a.yAxisDomain!=null)return{domain:a.yAxisDomain}},u={x:{field:"x",type:a.xType,title:a.xLabel},tooltip:[{field:"x",type:"quantitative"},...s.map(b=>({field:b,type:"quantitative"}))]},c=s.map(b=>({data:void 0,mark:{type:"line",clip:!0},encoding:{y:{field:b,type:a.yType,title:a.yLabel,scale:l()},color:{field:`${b}-name`,type:"nominal",legend:{values:s,title:null},scale:{range:a.seriesColors}}}})),f={mark:"rule",selection:{hover:{type:"single",on:"mouseover",nearest:!0,clear:"mouseout"}},encoding:{color:{value:"grey",condition:{selection:{not:"hover"},value:"transparent"}}}},d=Um.getDrawArea(e),h={width:a.width||Ti.getDefaultWidth(d),height:a.height||Ti.getDefaultHeight(d),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:a.fontSize,titleFontSize:a.fontSize},text:{fontSize:a.fontSize},legend:{labelFontSize:a.fontSize,titleFontSize:a.fontSize}},data:{values:o},encoding:u,layer:[...c,f]},p={actions:!1,mode:"vega-lite",defaultStyle:!1};return yield Hm.default(d,h,p),Promise.resolve()})}Bt.linechart=Xm;const Ym={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11};var An={};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Km=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})},Zm=L&&L.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(An,"__esModule",{value:!0});const Jm=Zm(Pe),Ii=Z,Qm=ce,ev=B;function tv(e,t,r={}){return Km(this,void 0,void 0,function*(){let n=t.values;const i=t.series==null?[]:t.series;n=Array.isArray(n[0])?n:[n];const s=[];n.forEach((d,h)=>{const p=i[h]!=null?i[h]:`Series ${h+1}`,b=d.map(m=>Object.assign({},m,{series:p}));s.push(...b)}),r.seriesColors!=null&&Qm.assert(r.seriesColors.length===n.length,"Must have an equal number of series colors as there are data series");const o=ev.getDrawArea(e),a=Object.assign({},rv,r),l={actions:!1,mode:"vega-lite",defaultStyle:!1},u=()=>{if(a.zoomToFit)return{zero:!1};if(a.xAxisDomain!=null)return{domain:a.xAxisDomain}},c=()=>{if(a.zoomToFit)return{zero:!1};if(a.yAxisDomain!=null)return{domain:a.yAxisDomain}},f={width:a.width||Ii.getDefaultWidth(o),height:a.height||Ii.getDefaultHeight(o),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:a.fontSize,titleFontSize:a.fontSize},text:{fontSize:a.fontSize},legend:{labelFontSize:a.fontSize,titleFontSize:a.fontSize}},data:{values:s},mark:{type:"point",clip:!0,tooltip:{content:"data"}},encoding:{x:{field:"x",type:a.xType,title:a.xLabel,scale:u()},y:{field:"y",type:a.yType,title:a.yLabel,scale:c()},color:{field:"series",type:"nominal",scale:{range:a.seriesColors}},shape:{field:"series",type:"nominal"}}};return yield Jm.default(o,f,l),Promise.resolve()})}An.scatterplot=tv;const rv={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11};var Gt={};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Fs=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(Gt,"__esModule",{value:!0});const nv=Bt,Mr=B,ks=Z;function js(e,t,r,n={}){return Fs(this,void 0,void 0,function*(){const i=Mr.getDrawArea(e),s={};for(const u of r)if(/val_/.test(u)){const c=u.replace("val_","");Pi(s,c);const f=Di(t,u,r.indexOf(u));s[c].series.push(u),s[c].values.push(f)}else{const c=Di(t,u,r.indexOf(u));Pi(s,u),s[u].series.push(u),s[u].values.push(c)}const o=Object.keys(s),a=Object.assign({},{xLabel:"Iteration",yLabel:"Value"},n),l=[];for(const u of o){const c=ks.subSurface(i,u),f=s[u].series,d=s[u].values;f.every(p=>!!p.match("acc"))&&(a.zoomToFitAccuracy?a.zoomToFit=!0:(a.yAxisDomain=[0,1],delete a.zoomToFit));const h=nv.linechart(c,{values:d,series:f},a);l.push(h)}yield Promise.all(l)})}Gt.history=js;function Pi(e,t){e[t]==null&&(e[t]={series:[],values:[]})}function Di(e,t,r){if(Array.isArray(e)){const n=Array.isArray(e[0])?e[r]:e,i=[];for(let s=0;s<n.length;s++){const o=n[s];i.push({x:s,y:o[t]})}return i}else return e.history[t].map((n,i)=>({x:i,y:n}))}function iv(e,t,r={}){const n={},i=r.callbacks||["onEpochEnd","onBatchEnd"],s=Mr.getDrawArea(e),o=Object.assign({},r);delete o.callbacks;function a(u){return(c,f)=>Fs(this,void 0,void 0,function*(){/batch/i.test(u)?o.xLabel="Batch":/epoch/i.test(u)&&(o.xLabel="Epoch");const d=[],h=[];for(const b of t)if(f[b]!=null){h.push(b);const m=sv(n,u,b);m.push({[b]:f[b]}),d.push(m)}const p=ks.subSurface(s,u,{title:u});js(p,d,h,o),yield Mr.nextFrame()})}const l={};return i.forEach(u=>{l[u]=a(u)}),l}Gt.fitCallbacks=iv;function sv(e,t,r){return e[t]==null&&(e[t]={}),e[t][r]==null&&(e[t][r]=[]),e[t][r]}var qt={};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Nt=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(qt,"__esModule",{value:!0});const av=st,Vs=B,Ws=Me,cr=Z,ov=ie;function lv(e,t){return Nt(this,void 0,void 0,function*(){const r=Vs.getDrawArea(e),n=cv(t),i=["Layer Name","Output Shape","# Of Params","Trainable"],s=n.layers.map(o=>[o.name,o.outputShape,o.parameters,o.trainable]);Ws.table(r,{headers:i,values:s})})}qt.modelSummary=lv;function uv(e,t){return Nt(this,void 0,void 0,function*(){const r=Vs.getDrawArea(e),n=yield hv(t),i=["Weight Name","Shape","Min","Max","# Params","# Zeros","# NaNs","# Infinity"],s=cr.subSurface(r,"layer-weights-info"),o=n.map(c=>[c.name,c.shape,c.stats.min,c.stats.max,c.weight.size,c.stats.numZeros,c.stats.numNans,c.stats.numInfs]);Ws.table(s,{headers:i,values:o});const a=cr.subSurface(r,"select-layer"),l=cr.subSurface(r,"param-distribution"),u=c=>Nt(this,void 0,void 0,function*(){const d=yield n.filter(h=>h.name===c)[0].weight.data();av.histogram(l,d,{height:150,width:460,stats:!1})});dv(n.map(c=>c.name),a,u)})}qt.layer=uv;function cv(e){return{layers:e.layers.map(fv)}}function fv(e){let t;return Array.isArray(e.outputShape[0])?t=`[${e.outputShape.map(n=>Fr(n)).join(", ")}]`:t=Fr(e.outputShape),{name:e.name,trainable:e.trainable,parameters:e.countParams(),outputShape:t}}function hv(e){return Nt(this,void 0,void 0,function*(){const t=e.getWeights(),r=e.weights,n=t.map(ov.tensorStats),i=yield Promise.all(n),s=t.map(o=>o.shape);return t.map((o,a)=>({name:r[a].name,stats:i[a],shape:Fr(s[a]),weight:o}))})}function Fr(e){const t=e.slice();return t.length===0?"Scalar":(t[0]===null&&(t[0]="batch"),`[${t.join(",")}]`)}function dv(e,t,r){const s=`<div><button>Show Values Distribution for:</button>${`
    <select>
      ${e.map(l=>`<option value=${l}>${l}</option>`)}
    </select>
  `}</div>`;t.innerHTML=s;const o=t.querySelector("button"),a=t.querySelector("select");o.addEventListener("click",()=>{r(a.selectedOptions[0].label)})}var Rn={};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var pv=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(Rn,"__esModule",{value:!0});const mv=B,vv=Me;function gv(e,t,r){return pv(this,void 0,void 0,function*(){const n=mv.getDrawArea(e),i=["Class","Accuracy","# Samples"],s=[];for(let o=0;o<t.length;o++){const a=r?r[o]:o.toString(),l=t[o];s.push([a,l.accuracy,l.count])}return vv.table(n,{headers:i,values:s})})}Rn.perClassAccuracy=gv;var Nn={};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var yv=L&&L.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(u){try{l(n.next(u))}catch(c){s(c)}}function a(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(Nn,"__esModule",{value:!0});const bv=st,_v=B,xv=ie;function Sv(e,t){return yv(this,void 0,void 0,function*(){const r=_v.getDrawArea(e),n=yield xv.tensorStats(t),i=yield t.data();bv.histogram(r,i,{height:150,stats:n})})}Nn.valuesDistribution=Sv;var Ln={};/** @license See the LICENSE file. */Object.defineProperty(Ln,"__esModule",{value:!0});const wv="1.5.1";Ln.version=wv;(function(e){function t(A){for(var R in A)e.hasOwnProperty(R)||(e[R]=A[R])}Object.defineProperty(e,"__esModule",{value:!0});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r=jr,n=bn,i=_n,s=st,o=Bt,a=An,l=Me,u=Gt,c=qt,f=Rn,d=Nn,h=ie,p=Ln;e.version_vis=p.version;const b={barchart:r.barchart,table:l.table,histogram:s.histogram,linechart:o.linechart,scatterplot:a.scatterplot,confusionMatrix:n.confusionMatrix,heatmap:i.heatmap};e.render=b;const m={accuracy:h.accuracy,perClassAccuracy:h.perClassAccuracy,confusionMatrix:h.confusionMatrix};e.metrics=m;const S={history:u.history,fitCallbacks:u.fitCallbacks,perClassAccuracy:f.perClassAccuracy,valuesDistribution:d.valuesDistribution,layer:c.layer,modelSummary:c.modelSummary};e.show=S;var _=it;e.visor=_.visor,t(nt)})(kr);const Ev=Gs(kr),Rv=aa({__proto__:null,default:Ev},[kr]);export{Rv as i};
